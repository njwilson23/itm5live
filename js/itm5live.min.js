!function(t){"use strict";function n(t){return function(n,e){return Fr(t(n),e)}}function e(t,n,e){var i=Math.abs(n-t)/Math.max(0,e),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/o;return r>=Jr?o*=10:r>=Kr?o*=5:r>=$r&&(o*=2),n<t?-o:o}function i(){}function o(t,n){var e=new i;if(t instanceof i)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var o,r=-1,s=t.length;if(null==n)for(;++r<s;)e.set(r,t[r]);else for(;++r<s;)e.set(n(o=t[r],r,t),o)}else if(t)for(var a in t)e.set(a,t[a]);return e}function r(){}function s(t,n){var e=new r;if(t instanceof r)t.each(function(t){e.add(t)});else if(t){var i=-1,o=t.length;if(null==n)for(;++i<o;)e.add(t[i]);else for(;++i<o;)e.add(n(t[i],i,t))}return e}function a(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function h(){this._x0=this._y0=this._x1=this._y1=null,this._=[]}function u(){return new h}function l(t,n,e,i){if(isNaN(n)||isNaN(e))return t;var o,r,s,a,h,u,l,c,f,_=t._root,p={data:i},d=t._x0,m=t._y0,g=t._x1,v=t._y1;if(!_)return t._root=p,t;for(;_.length;)if((u=n>=(r=(d+g)/2))?d=r:g=r,(l=e>=(s=(m+v)/2))?m=s:v=s,o=_,!(_=_[c=l<<1|u]))return o[c]=p,t;if(a=+t._x.call(null,_.data),h=+t._y.call(null,_.data),n===a&&e===h)return p.next=_,o?o[c]=p:t._root=p,t;do o=o?o[c]=new Array(4):t._root=new Array(4),(u=n>=(r=(d+g)/2))?d=r:g=r,(l=e>=(s=(m+v)/2))?m=s:v=s;while((c=l<<1|u)===(f=(h>=s)<<1|a>=r));return o[f]=_,o[c]=p,t}function c(t){var n,e,i,o,r=t.length,s=new Array(r),a=new Array(r),h=1/0,u=1/0,c=-(1/0),f=-(1/0);for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(s[e]=i,a[e]=o,i<h&&(h=i),i>c&&(c=i),o<u&&(u=o),o>f&&(f=o));for(c<h&&(h=this._x0,c=this._x1),f<u&&(u=this._y0,f=this._y1),this.cover(h,u).cover(c,f),e=0;e<r;++e)l(this,s[e],a[e],t[e]);return this}function f(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function _(t){return t[0]}function p(t){return t[1]}function d(t,n,e){var i=new m(null==n?_:n,null==e?p:e,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function m(t,n,e,i,o,r){this._x=t,this._y=n,this._x0=e,this._y0=i,this._x1=o,this._y1=r,this._root=void 0}function g(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}function v(t){if(!t._start)try{y(t)}catch(n){if(t._tasks[t._ended+t._active-1])w(t,n);else if(!t._data)throw n}}function y(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],i=e.length-1,o=e[i];e[i]=x(t,n),--t._waiting,++t._active,e=o.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||Ss)}}function x(t,n){return function(e,i){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?w(t,e):(t._data[n]=i,t._waiting?v(t):b(t))))}}function w(t,n){var e,i=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--i>=0;)if((e=t._tasks[i])&&(t._tasks[i]=null,e.abort))try{e.abort()}catch(t){}t._active=NaN,b(t)}function b(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function P(t){this._context=t}function M(t){return t[0]}function L(t){return t[1]}function T(t){this._curve=t}function D(t){function n(n){return new T(t(n))}return n._curve=t,n}function C(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function E(t){this._context=t}function S(t,n){this._basis=new E(t),this._beta=n}function k(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function U(t,n){this._context=t,this._k=(1-n)/6}function z(t,n){this._context=t,this._k=(1-n)/6}function A(t,n){this._context=t,this._k=(1-n)/6}function N(t,n,e){var i=t._x1,o=t._y1,r=t._x2,s=t._y2;if(t._l01_a>Us){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,o=(o*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>Us){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);r=(r*u+t._x1*t._l23_2a-n*t._l12_2a)/l,s=(s*u+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(i,o,r,s,t._x2,t._y2)}function B(t,n){this._context=t,this._alpha=n}function O(t,n){this._context=t,this._alpha=n}function I(t,n){this._context=t,this._alpha=n}function Z(t){return t<0?-1:1}function R(t,n,e){var i=t._x1-t._x0,o=n-t._x1,r=(t._y1-t._y0)/(i||o<0&&-0),s=(e-t._y1)/(o||i<0&&-0),a=(r*o+s*i)/(i+o);return(Z(r)+Z(s))*Math.min(Math.abs(r),Math.abs(s),.5*Math.abs(a))||0}function j(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function F(t,n,e){var i=t._x0,o=t._y0,r=t._x1,s=t._y1,a=(r-i)/3;t._context.bezierCurveTo(i+a,o+a*n,r-a,s-a*e,r,s)}function H(t){this._context=t}function W(t){this._context=new q(t)}function q(t){this._context=t}function V(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function G(){}function Y(t){var n;return t=(t+"").trim().toLowerCase(),(n=Hs.exec(t))?(n=parseInt(n[1],16),new Q(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=Ws.exec(t))?X(parseInt(n[1],16)):(n=qs.exec(t))?new Q(n[1],n[2],n[3],1):(n=Vs.exec(t))?new Q(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Gs.exec(t))?J(n[1],n[2],n[3],n[4]):(n=Ys.exec(t))?J(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Xs.exec(t))?tt(n[1],n[2]/100,n[3]/100,1):(n=Js.exec(t))?tt(n[1],n[2]/100,n[3]/100,n[4]):Ks.hasOwnProperty(t)?X(Ks[t]):"transparent"===t?new Q(NaN,NaN,NaN,0):null}function X(t){return new Q(t>>16&255,t>>8&255,255&t,1)}function J(t,n,e,i){return i<=0&&(t=n=e=NaN),new Q(t,n,e,i)}function K(t){return t instanceof G||(t=Y(t)),t?(t=t.rgb(),new Q(t.r,t.g,t.b,t.opacity)):new Q}function $(t,n,e,i){return 1===arguments.length?K(t):new Q(t,n,e,null==i?1:i)}function Q(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function tt(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new it(t,n,e,i)}function nt(t){if(t instanceof it)return new it(t.h,t.s,t.l,t.opacity);if(t instanceof G||(t=Y(t)),!t)return new it;if(t instanceof it)return t;t=t.rgb();var n=t.r/255,e=t.g/255,i=t.b/255,o=Math.min(n,e,i),r=Math.max(n,e,i),s=NaN,a=r-o,h=(r+o)/2;return a?(s=n===r?(e-i)/a+6*(e<i):e===r?(i-n)/a+2:(n-e)/a+4,a/=h<.5?r+o:2-r-o,s*=60):a=h>0&&h<1?0:s,new it(s,a,h,t.opacity)}function et(t,n,e,i){return 1===arguments.length?nt(t):new it(t,n,e,null==i?1:i)}function it(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function ot(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function rt(t){if(t instanceof at)return new at(t.l,t.a,t.b,t.opacity);if(t instanceof pt){var n=t.h*$s;return new at(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Q||(t=K(t));var e=ct(t.r),i=ct(t.g),o=ct(t.b),r=ht((.4124564*e+.3575761*i+.1804375*o)/na),s=ht((.2126729*e+.7151522*i+.072175*o)/ea),a=ht((.0193339*e+.119192*i+.9503041*o)/ia);return new at(116*s-16,500*(r-s),200*(s-a),t.opacity)}function st(t,n,e,i){return 1===arguments.length?rt(t):new at(t,n,e,null==i?1:i)}function at(t,n,e,i){this.l=+t,this.a=+n,this.b=+e,this.opacity=+i}function ht(t){return t>aa?Math.pow(t,1/3):t/sa+oa}function ut(t){return t>ra?t*t*t:sa*(t-oa)}function lt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ct(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ft(t){if(t instanceof pt)return new pt(t.h,t.c,t.l,t.opacity);t instanceof at||(t=rt(t));var n=Math.atan2(t.b,t.a)*Qs;return new pt(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function _t(t,n,e,i){return 1===arguments.length?ft(t):new pt(t,n,e,null==i?1:i)}function pt(t,n,e,i){this.h=+t,this.c=+n,this.l=+e,this.opacity=+i}function dt(t){if(t instanceof gt)return new gt(t.h,t.s,t.l,t.opacity);t instanceof Q||(t=K(t));var n=t.r/255,e=t.g/255,i=t.b/255,o=(da*i+_a*n-pa*e)/(da+_a-pa),r=i-o,s=(fa*(e-o)-la*r)/ca,a=Math.sqrt(s*s+r*r)/(fa*o*(1-o)),h=a?Math.atan2(s,r)*Qs-120:NaN;return new gt(h<0?h+360:h,a,o,t.opacity)}function mt(t,n,e,i){return 1===arguments.length?dt(t):new gt(t,n,e,null==i?1:i)}function gt(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function vt(t,n){return function(e){return t+e*n}}function yt(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}function xt(t,n){var e=n-t;return e?vt(t,e>180||e<-180?e-360*Math.round(e/360):e):xa(isNaN(t)?n:t)}function wt(t){return 1===(t=+t)?bt:function(n,e){return e-n?yt(n,e,t):xa(isNaN(n)?e:n)}}function bt(t,n){var e=n-t;return e?vt(t,e):xa(isNaN(t)?n:t)}function Pt(t){return function(){return t}}function Mt(t){return function(n){return t(n)+""}}function Lt(t){return"none"===t?Ua:(ma||(ma=document.createElement("DIV"),ga=document.documentElement,va=document.defaultView),ma.style.transform=t,t=va.getComputedStyle(ga.appendChild(ma),null).getPropertyValue("transform"),ga.removeChild(ma),t=t.slice(7,-1).split(","),za(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function Tt(t){return null==t?Ua:(ya||(ya=document.createElementNS("http://www.w3.org/2000/svg","g")),ya.setAttribute("transform",t),(t=ya.transform.baseVal.consolidate())?(t=t.matrix,za(t.a,t.b,t.c,t.d,t.e,t.f)):Ua)}function Dt(t,n,e,i){function o(t){return t.length?t.pop()+" ":""}function r(t,i,o,r,s,a){if(t!==o||i!==r){var h=s.push("translate(",null,n,null,e);a.push({i:h-4,x:Ma(t,o)},{i:h-2,x:Ma(i,r)})}else(o||r)&&s.push("translate("+o+n+r+e)}function s(t,n,e,r){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),r.push({i:e.push(o(e)+"rotate(",null,i)-2,x:Ma(t,n)})):n&&e.push(o(e)+"rotate("+n+i)}function a(t,n,e,r){t!==n?r.push({i:e.push(o(e)+"skewX(",null,i)-2,x:Ma(t,n)}):n&&e.push(o(e)+"skewX("+n+i)}function h(t,n,e,i,r,s){if(t!==e||n!==i){var a=r.push(o(r)+"scale(",null,",",null,")");s.push({i:a-4,x:Ma(t,e)},{i:a-2,x:Ma(n,i)})}else 1===e&&1===i||r.push(o(r)+"scale("+e+","+i+")")}return function(n,e){var i=[],o=[];return n=t(n),e=t(e),r(n.translateX,n.translateY,e.translateX,e.translateY,i,o),s(n.rotate,e.rotate,i,o),a(n.skewX,e.skewX,i,o),h(n.scaleX,n.scaleY,e.scaleX,e.scaleY,i,o),n=e=null,function(t){for(var n,e=-1,r=o.length;++e<r;)i[(n=o[e]).i]=n.x(t);return i.join("")}}}function Ct(t){return((t=Math.exp(t))+1/t)/2}function Et(t){return((t=Math.exp(t))-1/t)/2}function St(t){return((t=Math.exp(2*t))-1)/(t+1)}function kt(t){return function n(e){function i(n,i){var o=t((n=mt(n)).h,(i=mt(i)).h),r=bt(n.s,i.s),s=bt(n.l,i.l),a=bt(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=r(t),n.l=s(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,i.gamma=n,i}(1)}function Ut(){for(var t,n=0,e=arguments.length,i={};n<e;++n){if(!(t=arguments[n]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new zt(i)}function zt(t){this._=t}function At(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");if(i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function Nt(t,n){for(var e,i=0,o=t.length;i<o;++i)if((e=t[i]).name===n)return e.value}function Bt(t,n,e){for(var i=0,o=t.length;i<o;++i)if(t[i].name===n){t[i]=Fa,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}function Ot(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function It(t,n){var e=Ot(t);return function(i,o){return n(e(i),o,t)}}function Zt(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var i in t)i in n||e.push(n[i]=i)}),e}function Rt(t){return function(n,e){t(null==n?e:null)}}function jt(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function Ft(t,n){return function(e){return t(e.responseText,n)}}function Ht(){return rh||(hh(Wt),rh=ah.now()+sh)}function Wt(){rh=0}function qt(){this._call=this._time=this._next=null}function Vt(t,n,e){var i=new qt;return i.restart(t,n,e),i}function Gt(){Ht(),++th;for(var t,n=$a;n;)(t=rh-n._time)>=0&&n._call.call(null,t),n=n._next;--th}function Yt(){rh=(oh=ah.now())+sh,th=nh=0;try{Gt()}finally{th=0,Jt(),rh=0}}function Xt(){var t=ah.now(),n=t-oh;n>ih&&(sh-=n,oh=t)}function Jt(){for(var t,n,e=$a,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:$a=n);Qa=t,Kt(i)}function Kt(t){if(!th){nh&&(nh=clearTimeout(nh));var n=t-rh;n>24?(t<1/0&&(nh=setTimeout(Yt,n)),eh&&(eh=clearInterval(eh))):(eh||(eh=setInterval(Xt,ih)),th=1,hh(Yt))}}function $t(t,n,e,i){function o(n){return t(n=new Date(+n)),n}return o.floor=o,o.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},o.round=function(t){var n=o(t),e=o.ceil(t);return t-n<e-t?n:e},o.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},o.range=function(e,i,r){var s=[];if(e=o.ceil(e),r=null==r?1:Math.floor(r),!(e<i&&r>0))return s;do s.push(new Date(+e));while(n(e,r),t(e),e<i);return s},o.filter=function(e){return $t(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,i){if(t>=t)for(;--i>=0;)for(;n(t,1),!e(t););})},e&&(o.count=function(n,i){return lh.setTime(+n),ch.setTime(+i),t(lh),t(ch),Math.floor(e(lh,ch))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(i?function(n){return i(n)%t===0}:function(n){return o.count(0,n)%t===0}):o:null}),o}function Qt(t){return $t(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ph)/gh})}function tn(t){return $t(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/gh})}function nn(t){if(!(n=Ih.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",i=n[2]||">",o=n[3]||"-",r=n[4]||"",s=!!n[5],a=n[6]&&+n[6],h=!!n[7],u=n[8]&&+n[8].slice(1),l=n[9]||"";"n"===l?(h=!0,l="g"):Oh[l]||(l=""),(s||"0"===e&&"="===i)&&(s=!0,e="0",i="="),this.fill=e,this.align=i,this.sign=o,this.symbol=r,this.zero=s,this.width=a,this.comma=h,this.precision=u,this.type=l}function en(t){return t}function on(t){return Rh=Wh(t),jh=Rh.format,Fh=Rh.formatPrefix,Rh}function rn(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sn(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function an(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function hn(t){function n(t,n){return function(e){var i,o,r,s=[],a=-1,h=0,u=t.length;for(e instanceof Date||(e=new Date(+e));++a<u;)37===t.charCodeAt(a)&&(s.push(t.slice(h,a)),null!=(o=Qh[i=t.charAt(++a)])?i=t.charAt(++a):o="e"===i?" ":"0",(r=n[i])&&(i=r(e,o)),s.push(i),h=a+1);return s.push(t.slice(h,a)),s.join("")}}function e(t,n){return function(e){var o=an(1900),r=i(o,t,e+="",0);if(r!=e.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var s="Z"in o?sn(an(o.y)).getUTCDay():n(an(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(s+5)%7:o.w+7*o.U-(s+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,sn(o)):n(o)}}function i(t,n,e,i){for(var o,r,s=0,a=n.length,h=e.length;s<a;){if(i>=h)return-1;if(o=n.charCodeAt(s++),37===o){if(o=n.charAt(s++),r=F[o in Qh?n.charAt(s++):o],!r||(i=r(t,e,i))<0)return-1}else if(o!=e.charCodeAt(i++))return-1}return i}function o(t,n,e){var i=S.exec(n.slice(e));return i?(t.p=k[i[0].toLowerCase()],e+i[0].length):-1}function r(t,n,e){var i=A.exec(n.slice(e));return i?(t.w=N[i[0].toLowerCase()],e+i[0].length):-1}function s(t,n,e){var i=U.exec(n.slice(e));return i?(t.w=z[i[0].toLowerCase()],e+i[0].length):-1}function a(t,n,e){var i=I.exec(n.slice(e));return i?(t.m=Z[i[0].toLowerCase()],e+i[0].length):-1}function h(t,n,e){var i=B.exec(n.slice(e));return i?(t.m=O[i[0].toLowerCase()],e+i[0].length):-1}function u(t,n,e){return i(t,b,n,e)}function l(t,n,e){return i(t,P,n,e)}function c(t,n,e){return i(t,M,n,e)}function f(t){return D[t.getDay()]}function _(t){return T[t.getDay()]}function p(t){return E[t.getMonth()]}function d(t){return C[t.getMonth()]}function m(t){return L[+(t.getHours()>=12)]}function g(t){return D[t.getUTCDay()]}function v(t){return T[t.getUTCDay()]}function y(t){return E[t.getUTCMonth()]}function x(t){return C[t.getUTCMonth()]}function w(t){return L[+(t.getUTCHours()>=12)]}var b=t.dateTime,P=t.date,M=t.time,L=t.periods,T=t.days,D=t.shortDays,C=t.months,E=t.shortMonths,S=cn(L),k=fn(L),U=cn(T),z=fn(T),A=cn(D),N=fn(D),B=cn(C),O=fn(C),I=cn(E),Z=fn(E),R={a:f,A:_,b:p,B:d,c:null,d:Dn,e:Dn,H:Cn,I:En,j:Sn,L:kn,m:Un,M:zn,p:m,S:An,U:Nn,w:Bn,W:On,x:null,X:null,y:In,Y:Zn,Z:Rn,"%":ne},j={a:g,A:v,b:y,B:x,c:null,d:jn,e:jn,H:Fn,I:Hn,j:Wn,L:qn,m:Vn,M:Gn,p:w,S:Yn,U:Xn,w:Jn,W:Kn,x:null,X:null,y:$n,Y:Qn,Z:te,"%":ne},F={a:r,A:s,b:a,B:h,c:u,d:xn,e:xn,H:bn,I:bn,j:wn,L:Ln,m:yn,M:Pn,p:o,S:Mn,U:pn,w:_n,W:dn,x:l,X:c,y:gn,Y:mn,Z:vn,"%":Tn};return R.x=n(P,R),R.X=n(M,R),R.c=n(b,R),j.x=n(P,j),j.X=n(M,j),j.c=n(b,j),{format:function(t){var e=n(t+="",R);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",rn);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",j);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,sn);return n.toString=function(){return t},n}}}function un(t,n,e){var i=t<0?"-":"",o=(i?-t:t)+"",r=o.length;return i+(r<e?new Array(e-r+1).join(n)+o:o)}function ln(t){return t.replace(eu,"\\$&")}function cn(t){return new RegExp("^(?:"+t.map(ln).join("|")+")","i")}function fn(t){for(var n={},e=-1,i=t.length;++e<i;)n[t[e].toLowerCase()]=e;return n}function _n(t,n,e){var i=tu.exec(n.slice(e,e+1));return i?(t.w=+i[0],e+i[0].length):-1}function pn(t,n,e){var i=tu.exec(n.slice(e));return i?(t.U=+i[0],e+i[0].length):-1}function dn(t,n,e){var i=tu.exec(n.slice(e));return i?(t.W=+i[0],e+i[0].length):-1}function mn(t,n,e){var i=tu.exec(n.slice(e,e+4));return i?(t.y=+i[0],e+i[0].length):-1}function gn(t,n,e){var i=tu.exec(n.slice(e,e+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function vn(t,n,e){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(n.slice(e,e+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function yn(t,n,e){var i=tu.exec(n.slice(e,e+2));return i?(t.m=i[0]-1,e+i[0].length):-1}function xn(t,n,e){var i=tu.exec(n.slice(e,e+2));return i?(t.d=+i[0],e+i[0].length):-1}function wn(t,n,e){var i=tu.exec(n.slice(e,e+3));return i?(t.m=0,t.d=+i[0],e+i[0].length):-1}function bn(t,n,e){var i=tu.exec(n.slice(e,e+2));return i?(t.H=+i[0],e+i[0].length):-1}function Pn(t,n,e){var i=tu.exec(n.slice(e,e+2));return i?(t.M=+i[0],e+i[0].length):-1}function Mn(t,n,e){var i=tu.exec(n.slice(e,e+2));return i?(t.S=+i[0],e+i[0].length):-1}function Ln(t,n,e){var i=tu.exec(n.slice(e,e+3));return i?(t.L=+i[0],e+i[0].length):-1}function Tn(t,n,e){var i=nu.exec(n.slice(e,e+1));return i?e+i[0].length:-1}function Dn(t,n){return un(t.getDate(),n,2)}function Cn(t,n){return un(t.getHours(),n,2)}function En(t,n){return un(t.getHours()%12||12,n,2)}function Sn(t,n){return un(1+wh.count(Lh(t),t),n,3)}function kn(t,n){return un(t.getMilliseconds(),n,3)}function Un(t,n){return un(t.getMonth()+1,n,2)}function zn(t,n){return un(t.getMinutes(),n,2)}function An(t,n){return un(t.getSeconds(),n,2)}function Nn(t,n){return un(bh.count(Lh(t),t),n,2)}function Bn(t){return t.getDay()}function On(t,n){return un(Ph.count(Lh(t),t),n,2)}function In(t,n){return un(t.getFullYear()%100,n,2)}function Zn(t,n){return un(t.getFullYear()%1e4,n,4)}function Rn(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+un(n/60|0,"0",2)+un(n%60,"0",2)}function jn(t,n){return un(t.getUTCDate(),n,2)}function Fn(t,n){return un(t.getUTCHours(),n,2)}function Hn(t,n){return un(t.getUTCHours()%12||12,n,2)}function Wn(t,n){return un(1+Th.count(Eh(t),t),n,3)}function qn(t,n){return un(t.getUTCMilliseconds(),n,3)}function Vn(t,n){return un(t.getUTCMonth()+1,n,2)}function Gn(t,n){return un(t.getUTCMinutes(),n,2)}function Yn(t,n){return un(t.getUTCSeconds(),n,2)}function Xn(t,n){return un(Dh.count(Eh(t),t),n,2)}function Jn(t){return t.getUTCDay()}function Kn(t,n){return un(Ch.count(Eh(t),t),n,2)}function $n(t,n){return un(t.getUTCFullYear()%100,n,2)}function Qn(t,n){return un(t.getUTCFullYear()%1e4,n,4)}function te(){return"+0000"}function ne(){return"%"}function ee(t){return qh=hn(t),Vh=qh.format,Gh=qh.parse,Yh=qh.utcFormat,Xh=qh.utcParse,qh}function ie(t){return t.toISOString()}function oe(t){var n=new Date(t);return isNaN(n)?null:n}function re(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:hu(n)}function se(t){return function(n,e){var i=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:i(t)}}}function ae(t){return function(n,e){var i=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:i(t)}}}function he(t,n,e,i){var o=t[0],r=t[1],s=n[0],a=n[1];return r<o?(o=e(r,o),s=i(a,s)):(o=e(o,r),s=i(s,a)),function(t){return s(o(t))}}function ue(t,n,e,i){var o=Math.min(t.length,n.length)-1,r=new Array(o),s=new Array(o),a=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<o;)r[a]=e(t[a],t[a+1]),s[a]=i(n[a],n[a+1]);return function(n){var e=qr(t,n,1,o)-1;return s[e](r[e](n))}}function le(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ce(t,n){function e(){return o=Math.min(a.length,h.length)>2?ue:he,r=s=null,i}function i(n){return(r||(r=o(a,h,l?se(t):t,u)))(+n)}var o,r,s,a=lu,h=lu,u=Ea,l=!1;return i.invert=function(t){return(s||(s=o(h,a,re,l?ae(n):n)))(+t)},i.domain=function(t){return arguments.length?(a=su.call(t,uu),e()):a.slice()},i.range=function(t){return arguments.length?(h=au.call(t),e()):h.slice()},i.rangeRound=function(t){return h=au.call(t),u=Sa,e()},i.clamp=function(t){return arguments.length?(l=!!t,e()):l},i.interpolate=function(t){return arguments.length?(u=t,e()):u},e()}function fe(t){var n=t.domain;return t.ticks=function(t){var e=n();return Qr(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return cu(n(),t,e)},t.nice=function(i){var o=n(),r=o.length-1,s=null==i?10:i,a=o[0],h=o[r],u=e(a,h,s);return u&&(u=e(Math.floor(a/u)*u,Math.ceil(h/u)*u,s),o[0]=Math.floor(a/u)*u,o[r]=Math.ceil(h/u)*u,n(o)),t},t}function _e(){var t=ce(re,Ma);return t.copy=function(){return le(t,_e())},fe(t)}function pe(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:hu(n)}function de(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function me(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ge(t){return 10===t?me:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function ve(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function ye(t){return function(n){return-t(-n)}}function xe(){function t(){return o=ve(i),r=ge(i),e()[0]<0&&(o=ye(o),r=ye(r)),n}var n=ce(pe,de).domain([1,10]),e=n.domain,i=10,o=ve(10),r=ge(10);return n.base=function(n){return arguments.length?(i=+n,t()):i},n.domain=function(n){return arguments.length?(e(n),t()):e()},n.ticks=function(t){var n,s=e(),a=s[0],h=s[s.length-1];(n=h<a)&&(f=a,a=h,h=f);var u,l,c,f=o(a),_=o(h),p=null==t?10:+t,d=[];if(!(i%1)&&_-f<p){if(f=Math.round(f)-1,_=Math.round(_)+1,a>0){for(;f<_;++f)for(l=1,u=r(f);l<i;++l)if(c=u*l,!(c<a)){if(c>h)break;d.push(c)}}else for(;f<_;++f)for(l=i-1,u=r(f);l>=1;--l)if(c=u*l,!(c<a)){if(c>h)break;d.push(c)}}else d=Qr(f,_,Math.min(_-f,p)).map(r);return n?d.reverse():d},n.tickFormat=function(t,e){if(null==e&&(e=10===i?".0e":","),"function"!=typeof e&&(e=jh(e)),t===1/0)return e;null==t&&(t=10);var s=Math.max(1,i*t/n.ticks().length);return function(t){var n=t/r(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=s?e(t):""}},n.nice=function(){return e(fu(e(),{floor:function(t){return r(Math.floor(o(t)))},ceil:function(t){return r(Math.ceil(o(t)))}}))},n.copy=function(){return le(n,xe().base(i))},n}function we(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function be(){function t(t,n){return(n=we(n,e)-(t=we(t,e)))?function(i){return(we(i,e)-t)/n}:hu(n)}function n(t,n){return n=we(n,e)-(t=we(t,e)),function(i){return we(t+n*i,1/e)}}var e=1,i=ce(t,n),o=i.domain;return i.exponent=function(t){return arguments.length?(e=+t,o(o())):e},i.copy=function(){return le(i,be().exponent(e))},fe(i)}function Pe(t){return new Date(t)}function Me(t){return t instanceof Date?+t:+new Date(+t)}function Le(t,n,i,o,r,s,a,h,u){function l(e){return(a(e)<e?d:s(e)<e?m:r(e)<e?g:o(e)<e?v:n(e)<e?i(e)<e?y:x:t(e)<e?w:b)(e)}function c(n,i,o,r){if(null==n&&(n=10),"number"==typeof n){var s=Math.abs(o-i)/n,a=Hr(function(t){return t[2]}).right(P,s);a===P.length?(r=e(i/yu,o/yu,n),n=t):a?(a=P[s/P[a-1][2]<P[a][2]/s?a-1:a],r=a[1],n=a[0]):(r=e(i,o,n),n=h)}return null==r?n:n.every(r)}var f=ce(re,Ma),_=f.invert,p=f.domain,d=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),x=u("%b %d"),w=u("%B"),b=u("%Y"),P=[[a,1,_u],[a,5,5*_u],[a,15,15*_u],[a,30,30*_u],[s,1,pu],[s,5,5*pu],[s,15,15*pu],[s,30,30*pu],[r,1,du],[r,3,3*du],[r,6,6*du],[r,12,12*du],[o,1,mu],[o,2,2*mu],[i,1,gu],[n,1,vu],[n,3,3*vu],[t,1,yu]];return f.invert=function(t){return new Date(_(t))},f.domain=function(t){return arguments.length?p(su.call(t,Me)):p().map(Pe)},f.ticks=function(t,n){var e,i=p(),o=i[0],r=i[i.length-1],s=r<o;return s&&(e=o,o=r,r=e),e=c(t,o,r,n),e=e?e.range(o,r+1):[],s?e.reverse():e},f.tickFormat=function(t,n){return null==n?l:u(n)},f.nice=function(t,n){var e=p();return(t=c(t,e[0],e[e.length-1],n))?p(fu(e,t)):f},f.copy=function(){return le(f,Le(t,n,i,o,r,s,a,h,u))},f}function Te(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===bu&&n.documentElement.namespaceURI===bu?n.createElement(t):n.createElementNS(e,t)}}function De(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ce(t,n,e){return t=Ee(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Ee(t,n,e){return function(i){var o=ku;ku=i;try{t.call(this,this.__data__,n,e)}finally{ku=o}}}function Se(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}function ke(t){return function(){var n=this.__on;if(n){for(var e,i=0,o=-1,r=n.length;i<r;++i)e=n[i],t.type&&e.type!==t.type||e.name!==t.name?n[++o]=e:this.removeEventListener(e.type,e.listener,e.capture);++o?n.length=o:delete this.__on}}}function Ue(t,n,e){var i=Su.hasOwnProperty(t.type)?Ce:Ee;return function(o,r,s){var a,h=this.__on,u=i(n,r,s);if(h)for(var l=0,c=h.length;l<c;++l)if((a=h[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=e),void(a.value=n);this.addEventListener(t.type,u,e),a={type:t.type,name:t.name,value:n,listener:u,capture:e},h?h.push(a):this.__on=[a]}}function ze(t,n,e,i){var o=ku;t.sourceEvent=ku,ku=t;try{return n.apply(e,i)}finally{ku=o}}function Ae(){}function Ne(){return[]}function Be(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Oe(t,n,e,i,o,r){for(var s,a=0,h=n.length,u=r.length;a<u;++a)(s=n[a])?(s.__data__=r[a],i[a]=s):e[a]=new Be(t,r[a]);for(;a<h;++a)(s=n[a])&&(o[a]=s)}function Ie(t,n,e,i,o,r,s){var a,h,u,l={},c=n.length,f=r.length,_=new Array(c);for(a=0;a<c;++a)(h=n[a])&&(_[a]=u=qu+s.call(h,h.__data__,a,n),u in l?o[a]=h:l[u]=h);for(a=0;a<f;++a)u=qu+s.call(t,r[a],a,r),(h=l[u])?(i[a]=h,h.__data__=r[a],l[u]=null):e[a]=new Be(t,r[a]);for(a=0;a<c;++a)(h=n[a])&&l[_[a]]===h&&(o[a]=h)}function Ze(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Re(t){return function(){this.removeAttribute(t)}}function je(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fe(t,n){return function(){this.setAttribute(t,n)}}function He(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function We(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function qe(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ve(t){return function(){this.style.removeProperty(t)}}function Ge(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ye(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Xe(t){return function(){delete this[t]}}function Je(t,n){return function(){this[t]=n}}function Ke(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function $e(t){return t.trim().split(/^|\s+/)}function Qe(t){return t.classList||new ti(t)}function ti(t){this._node=t,this._names=$e(t.getAttribute("class")||"")}function ni(t,n){for(var e=Qe(t),i=-1,o=n.length;++i<o;)e.add(n[i])}function ei(t,n){for(var e=Qe(t),i=-1,o=n.length;++i<o;)e.remove(n[i])}function ii(t){return function(){ni(this,t)}}function oi(t){return function(){ei(this,t)}}function ri(t,n){return function(){(n.apply(this,arguments)?ni:ei)(this,t)}}function si(){this.textContent=""}function ai(t){return function(){this.textContent=t}}function hi(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function ui(){this.innerHTML=""}function li(t){return function(){this.innerHTML=t}}function ci(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function fi(){this.nextSibling&&this.parentNode.appendChild(this)}function _i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pi(){return null}function di(){var t=this.parentNode;t&&t.removeChild(this)}function mi(t,n,e){var i=ol(t),o=i.CustomEvent;o?o=new o(n,e):(o=i.document.createEvent("Event"),e?(o.initEvent(n,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(n,!1,!1)),t.dispatchEvent(o)}function gi(t,n){return function(){return mi(this,t,n)}}function vi(t,n){return function(){return mi(this,t,n.apply(this,arguments))}}function yi(t,n){this._groups=t,this._parents=n}function xi(){return new yi([[document.documentElement]],gl)}function wi(t,n){var e=t.__transition;if(!e||!(e=e[n])||e.state>bl)throw new Error("too late");return e}function bi(t,n){var e=t.__transition;if(!e||!(e=e[n])||e.state>Ml)throw new Error("too late");return e}function Pi(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("too late");return e}function Mi(t,n,e){function i(t){e.state=Pl,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}function o(i){var u,l,c,f;if(e.state!==Pl)return s();for(u in h)if(f=h[u],f.name===e.name){if(f.state===Ll)return uh(o);f.state===Tl?(f.state=Cl,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete h[u]):+u<n&&(f.state=Cl,f.timer.stop(),delete h[u])}if(uh(function(){e.state===Ll&&(e.state=Tl,e.timer.restart(r,e.delay,e.time),r(i))}),e.state=Ml,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ml){for(e.state=Ll,a=new Array(c=e.tween.length),u=0,l=-1;u<c;++u)(f=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(a[++l]=f);a.length=l+1}}function r(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=Dl,1),o=-1,r=a.length;++o<r;)a[o].call(null,i);e.state===Dl&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){e.state=Cl,e.timer.stop(),delete h[n];for(var i in h)return;delete t.__transition}var a,h=t.__transition;h[n]=e,e.timer=Vt(i,0,e.time)}function Li(t,n){var e,i;return function(){var o=bi(this,t),r=o.tween;if(r!==e){i=e=r;for(var s=0,a=i.length;s<a;++s)if(i[s].name===n){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Ti(t,n,e){var i,o;if("function"!=typeof e)throw new Error;return function(){var r=bi(this,t),s=r.tween;if(s!==i){o=(i=s).slice();for(var a={name:n,value:e},h=0,u=o.length;h<u;++h)if(o[h].name===n){o[h]=a;break}h===u&&o.push(a)}r.tween=o}}function Di(t,n,e){var i=t._id;return t.each(function(){var t=bi(this,i);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Pi(t,i).value[n]}}function Ci(t){return function(){this.removeAttribute(t);
}}function Ei(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Si(t,n,e){var i,o;return function(){var r=this.getAttribute(t);return r===e?null:r===i?o:o=n(i=r,e)}}function ki(t,n,e){var i,o;return function(){var r=this.getAttributeNS(t.space,t.local);return r===e?null:r===i?o:o=n(i=r,e)}}function Ui(t,n,e){var i,o,r;return function(){var s,a=e(this);return null==a?void this.removeAttribute(t):(s=this.getAttribute(t),s===a?null:s===i&&a===o?r:r=n(i=s,o=a))}}function zi(t,n,e){var i,o,r;return function(){var s,a=e(this);return null==a?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),s===a?null:s===i&&a===o?r:r=n(i=s,o=a))}}function Ai(t,n){function e(){var e=this,i=n.apply(e,arguments);return i&&function(n){e.setAttributeNS(t.space,t.local,i(n))}}return e._value=n,e}function Ni(t,n){function e(){var e=this,i=n.apply(e,arguments);return i&&function(n){e.setAttribute(t,i(n))}}return e._value=n,e}function Bi(t,n){return function(){wi(this,t).delay=+n.apply(this,arguments)}}function Oi(t,n){return n=+n,function(){wi(this,t).delay=n}}function Ii(t,n){return function(){bi(this,t).duration=+n.apply(this,arguments)}}function Zi(t,n){return n=+n,function(){bi(this,t).duration=n}}function Ri(t,n){if("function"!=typeof n)throw new Error;return function(){bi(this,t).ease=n}}function ji(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}function Fi(t,n,e){var i,o,r=ji(n)?wi:bi;return function(){var s=r(this,t),a=s.on;a!==i&&(o=(i=a).copy()).on(n,e),s.on=o}}function Hi(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Wi(t,n){var e,i,o;return function(){var r=ol(this).getComputedStyle(this,null),s=r.getPropertyValue(t),a=(this.style.removeProperty(t),r.getPropertyValue(t));return s===a?null:s===e&&a===i?o:o=n(e=s,i=a)}}function qi(t){return function(){this.style.removeProperty(t)}}function Vi(t,n,e){var i,o;return function(){var r=ol(this).getComputedStyle(this,null).getPropertyValue(t);return r===e?null:r===i?o:o=n(i=r,e)}}function Gi(t,n,e){var i,o,r;return function(){var s=ol(this).getComputedStyle(this,null),a=s.getPropertyValue(t),h=e(this);return null==h&&(this.style.removeProperty(t),h=s.getPropertyValue(t)),a===h?null:a===i&&h===o?r:r=n(i=a,o=h)}}function Yi(t,n,e){function i(){var i=this,o=n.apply(i,arguments);return o&&function(n){i.style.setProperty(t,o(n),e)}}return i._value=n,i}function Xi(t){return function(){this.textContent=t}}function Ji(t){return function(){var n=t(this);this.textContent=null==n?"":n}}function Ki(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function $i(t){return xi().transition(t)}function Qi(){return++Kl}function to(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ql.time=Ht(),Ql;return e}function no(t,n,e){var i=t(e);return"translate("+(isFinite(i)?i:n(e))+",0)"}function eo(t,n,e){var i=t(e);return"translate(0,"+(isFinite(i)?i:n(e))+")"}function io(t){var n=t.bandwidth()/2;return t.round()&&(n=Math.round(n)),function(e){return t(e)+n}}function oo(){return!this.__axis}function ro(t,n){function e(e){var u,l=null==o?n.ticks?n.ticks.apply(n,i):n.domain():o,c=null==r?n.tickFormat?n.tickFormat.apply(n,i):ec:r,f=Math.max(s,0)+h,_=t===ic||t===rc?no:eo,p=n.range(),d=p[0]+.5,m=p[p.length-1]+.5,g=(n.bandwidth?io:ec)(n.copy()),v=e.selection?e.selection():e,y=v.selectAll(".domain").data([null]),x=v.selectAll(".tick").data(l,n).order(),w=x.exit(),b=x.enter().append("g").attr("class","tick"),P=x.select("line"),M=x.select("text"),L=t===ic||t===sc?-1:1,T=t===sc||t===oc?(u="x","y"):(u="y","x");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),x=x.merge(b),P=P.merge(b.append("line").attr("stroke","#000").attr(u+"2",L*s).attr(T+"1",.5).attr(T+"2",.5)),M=M.merge(b.append("text").attr("fill","#000").attr(u,L*f).attr(T,.5).attr("dy",t===ic?"0em":t===rc?"0.71em":"0.32em")),e!==v&&(y=y.transition(e),x=x.transition(e),P=P.transition(e),M=M.transition(e),w=w.transition(e).attr("opacity",ac).attr("transform",function(t){return _(g,this.parentNode.__axis||g,t)}),b.attr("opacity",ac).attr("transform",function(t){return _(this.parentNode.__axis||g,g,t)})),w.remove(),y.attr("d",t===sc||t==oc?"M"+L*a+","+d+"H0.5V"+m+"H"+L*a:"M"+d+","+L*a+"V0.5H"+m+"V"+L*a),x.attr("opacity",1).attr("transform",function(t){return _(g,g,t)}),P.attr(u+"2",L*s),M.attr(u,L*f).text(c),v.filter(oo).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===oc?"start":t===sc?"end":"middle"),v.each(function(){this.__axis=g})}var i=[],o=null,r=null,s=6,a=6,h=3;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return i=nc.call(arguments),e},e.tickArguments=function(t){return arguments.length?(i=null==t?[]:nc.call(t),e):i.slice()},e.tickValues=function(t){return arguments.length?(o=null==t?null:nc.call(t),e):o&&o.slice()},e.tickFormat=function(t){return arguments.length?(r=t,e):r},e.tickSize=function(t){return arguments.length?(s=a=+t,e):s},e.tickSizeInner=function(t){return arguments.length?(s=+t,e):s},e.tickSizeOuter=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(h=+t,e):h},e}function so(t){return ro(rc,t)}function ao(t){return ro(sc,t)}function ho(t,n){if(t===n)return t;var e=t.ancestors(),i=n.ancestors(),o=null;for(t=e.pop(),n=i.pop();t===n;)o=t,t=e.pop(),n=i.pop();return o}function uo(t,n){var e,i,o,r,s,a=new po(t),h=+t.value&&(a.value=t.value),u=[a];for(null==n&&(n=co);e=u.pop();)if(h&&(e.value=+e.data.value),(o=n(e.data))&&(s=o.length))for(e.children=new Array(s),r=s-1;r>=0;--r)u.push(i=e.children[r]=new po(o[r])),i.parent=e,i.depth=e.depth+1;return a.eachBefore(_o)}function lo(){return uo(this).eachBefore(fo)}function co(t){return t.children}function fo(t){t.data=t.data.data}function _o(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function po(t){this.data=t,this.depth=this.height=0,this.parent=null}function mo(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function go(t,n,e,i,o,r){for(var s,a,h,u,l,c,f,_,p,d,m,g,v=[],y=n.children,x=0,w=y.length,b=n.value;x<w;){for(u=o-e,l=r-i,f=_=c=y[x].value,m=Math.max(l/u,u/l)/(b*t),g=c*c*m,d=Math.max(_/g,g/f),h=x+1;h<w;++h){if(c+=a=y[h].value,a<f&&(f=a),a>_&&(_=a),g=c*c*m,p=Math.max(_/g,g/f),p>d){c-=a;break}d=p}v.push(s={value:c,dice:u<l,children:y.slice(x,h)}),s.dice?vc(s,e,i,o,b?i+=l*c/b:r):yc(s,e,i,b?e+=u*c/b:o,r),b-=c,x=h}return v}function vo(t,n){var e=t.document.documentElement,i=vl(t).on("dragstart.drag",null);n&&(i.on("click.drag",wc,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function yo(t,n,e,i,o,r,s,a,h,u){this.target=t,this.type=n,this.subject=e,this.identifier=i,this.active=o,this.x=r,this.y=s,this.dx=a,this.dy=h,this._=u}function xo(){this._=null}function wo(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function bo(t,n){var e=n,i=n.R,o=e.U;o?o.L===e?o.L=i:o.R=i:t._=i,i.U=o,e.U=i,e.R=i.L,e.R&&(e.R.U=e),i.L=e}function Po(t,n){var e=n,i=n.L,o=e.U;o?o.L===e?o.L=i:o.R=i:t._=i,i.U=o,e.U=i,e.L=i.R,e.L&&(e.L.U=e),i.R=e}function Mo(t){for(;t.L;)t=t.L;return t}function Lo(t,n,e,i){var o=[null,null],r=Dc.push(o)-1;return o.left=t,o.right=n,e&&Do(o,t,n,e),i&&Do(o,n,t,i),Lc[t.index].halfedges.push(r),Lc[n.index].halfedges.push(r),o}function To(t,n,e){var i=[n,e];return i.left=t,i}function Do(t,n,e,i){t[0]||t[1]?t.left===e?t[1]=i:t[0]=i:(t[0]=i,t.left=n,t.right=e)}function Co(t,n,e,i,o){var r,s=t[0],a=t[1],h=s[0],u=s[1],l=a[0],c=a[1],f=0,_=1,p=l-h,d=c-u;if(r=n-h,p||!(r>0)){if(r/=p,p<0){if(r<f)return;r<_&&(_=r)}else if(p>0){if(r>_)return;r>f&&(f=r)}if(r=i-h,p||!(r<0)){if(r/=p,p<0){if(r>_)return;r>f&&(f=r)}else if(p>0){if(r<f)return;r<_&&(_=r)}if(r=e-u,d||!(r>0)){if(r/=d,d<0){if(r<f)return;r<_&&(_=r)}else if(d>0){if(r>_)return;r>f&&(f=r)}if(r=o-u,d||!(r<0)){if(r/=d,d<0){if(r>_)return;r>f&&(f=r)}else if(d>0){if(r<f)return;r<_&&(_=r)}return!(f>0||_<1)||(f>0&&(t[0]=[h+f*p,u+f*d]),_<1&&(t[1]=[h+_*p,u+_*d]),!0)}}}}}function Eo(t,n,e,i,o){var r=t[1];if(r)return!0;var s,a,h=t[0],u=t.left,l=t.right,c=u[0],f=u[1],_=l[0],p=l[1],d=(c+_)/2,m=(f+p)/2;if(p===f){if(d<n||d>=i)return;if(c>_){if(h){if(h[1]>=o)return}else h=[d,e];r=[d,o]}else{if(h){if(h[1]<e)return}else h=[d,o];r=[d,e]}}else if(s=(c-_)/(p-f),a=m-s*d,s<-1||s>1)if(c>_){if(h){if(h[1]>=o)return}else h=[(e-a)/s,e];r=[(o-a)/s,o]}else{if(h){if(h[1]<e)return}else h=[(o-a)/s,o];r=[(e-a)/s,e]}else if(f<p){if(h){if(h[0]>=i)return}else h=[n,s*n+a];r=[i,s*i+a]}else{if(h){if(h[0]<n)return}else h=[i,s*i+a];r=[n,s*n+a]}return t[0]=h,t[1]=r,!0}function So(t,n,e,i){for(var o,r=Dc.length;r--;)Eo(o=Dc[r],t,n,e,i)&&Co(o,t,n,e,i)&&(Math.abs(o[0][0]-o[1][0])>Sc||Math.abs(o[0][1]-o[1][1])>Sc)||delete Dc[r]}function ko(t){return Lc[t.index]={site:t,halfedges:[]}}function Uo(t,n){var e=t.site,i=n.left,o=n.right;return e===o&&(o=i,i=e),o?Math.atan2(o[1]-i[1],o[0]-i[0]):(e===i?(i=n[1],o=n[0]):(i=n[0],o=n[1]),Math.atan2(i[0]-o[0],o[1]-i[1]))}function zo(t,n){return n[+(n.left!==t.site)]}function Ao(t,n){return n[+(n.left===t.site)]}function No(){for(var t,n,e,i,o=0,r=Lc.length;o<r;++o)if((t=Lc[o])&&(i=(n=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(e=0;e<i;++e)s[e]=e,a[e]=Uo(t,Dc[n[e]]);for(s.sort(function(t,n){return a[n]-a[t]}),e=0;e<i;++e)a[e]=n[s[e]];for(e=0;e<i;++e)n[e]=a[e]}}function Bo(t,n,e,i){var o,r,s,a,h,u,l,c,f,_,p,d,m=Lc.length,g=!0;for(o=0;o<m;++o)if(r=Lc[o]){for(s=r.site,h=r.halfedges,a=h.length;a--;)Dc[h[a]]||h.splice(a,1);for(a=0,u=h.length;a<u;)_=Ao(r,Dc[h[a]]),p=_[0],d=_[1],l=zo(r,Dc[h[++a%u]]),c=l[0],f=l[1],(Math.abs(p-c)>Sc||Math.abs(d-f)>Sc)&&(h.splice(a,0,Dc.push(To(s,_,Math.abs(p-t)<Sc&&i-d>Sc?[t,Math.abs(c-t)<Sc?f:i]:Math.abs(d-i)<Sc&&e-p>Sc?[Math.abs(f-i)<Sc?c:e,i]:Math.abs(p-e)<Sc&&d-n>Sc?[e,Math.abs(c-e)<Sc?f:n]:Math.abs(d-n)<Sc&&p-t>Sc?[Math.abs(f-n)<Sc?c:t,n]:null))-1),++u);u&&(g=!1)}if(g){var v,y,x,w=1/0;for(o=0,g=null;o<m;++o)(r=Lc[o])&&(s=r.site,v=s[0]-t,y=s[1]-n,x=v*v+y*y,x<w&&(w=x,g=r));if(g){var b=[t,n],P=[t,i],M=[e,i],L=[e,n];g.halfedges.push(Dc.push(To(s=g.site,b,P))-1,Dc.push(To(s,P,M))-1,Dc.push(To(s,M,L))-1,Dc.push(To(s,L,b))-1)}}for(o=0;o<m;++o)(r=Lc[o])&&(r.halfedges.length||delete Lc[o])}function Oo(){wo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Io(t){var n=t.P,e=t.N;if(n&&e){var i=n.site,o=t.site,r=e.site;if(i!==r){var s=o[0],a=o[1],h=i[0]-s,u=i[1]-a,l=r[0]-s,c=r[1]-a,f=2*(h*c-u*l);if(!(f>=-kc)){var _=h*h+u*u,p=l*l+c*c,d=(c*_-u*p)/f,m=(h*p-l*_)/f,g=Cc.pop()||new Oo;g.arc=t,g.site=o,g.x=d+s,g.y=(g.cy=m+a)+Math.sqrt(d*d+m*m),t.circle=g;for(var v=null,y=Tc._;y;)if(g.y<y.y||g.y===y.y&&g.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}Tc.insert(v,g),v||(Pc=g)}}}}function Zo(t){var n=t.circle;n&&(n.P||(Pc=n.N),Tc.remove(n),Cc.push(n),wo(n),t.circle=null)}function Ro(){wo(this),this.edge=this.site=this.circle=null}function jo(t){var n=Ec.pop()||new Ro;return n.site=t,n}function Fo(t){Zo(t),Mc.remove(t),Ec.push(t),wo(t)}function Ho(t){var n=t.circle,e=n.x,i=n.cy,o=[e,i],r=t.P,s=t.N,a=[t];Fo(t);for(var h=r;h.circle&&Math.abs(e-h.circle.x)<Sc&&Math.abs(i-h.circle.cy)<Sc;)r=h.P,a.unshift(h),Fo(h),h=r;a.unshift(h),Zo(h);for(var u=s;u.circle&&Math.abs(e-u.circle.x)<Sc&&Math.abs(i-u.circle.cy)<Sc;)s=u.N,a.push(u),Fo(u),u=s;a.push(u),Zo(u);var l,c=a.length;for(l=1;l<c;++l)u=a[l],h=a[l-1],Do(u.edge,h.site,u.site,o);h=a[0],u=a[c-1],u.edge=Lo(h.site,u.site,null,o),Io(h),Io(u)}function Wo(t){for(var n,e,i,o,r=t[0],s=t[1],a=Mc._;a;)if(i=qo(a,s)-r,i>Sc)a=a.L;else{if(o=r-Vo(a,s),!(o>Sc)){i>-Sc?(n=a.P,e=a):o>-Sc?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}ko(t);var h=jo(t);if(Mc.insert(n,h),n||e){if(n===e)return Zo(n),e=jo(n.site),Mc.insert(h,e),h.edge=e.edge=Lo(n.site,h.site),Io(n),void Io(e);if(!e)return void(h.edge=Lo(n.site,h.site));Zo(n),Zo(e);var u=n.site,l=u[0],c=u[1],f=t[0]-l,_=t[1]-c,p=e.site,d=p[0]-l,m=p[1]-c,g=2*(f*m-_*d),v=f*f+_*_,y=d*d+m*m,x=[(m*v-_*y)/g+l,(f*y-d*v)/g+c];Do(e.edge,u,p,x),h.edge=Lo(u,t,null,x),e.edge=Lo(t,p,null,x),Io(n),Io(e)}}function qo(t,n){var e=t.site,i=e[0],o=e[1],r=o-n;if(!r)return i;var s=t.P;if(!s)return-(1/0);e=s.site;var a=e[0],h=e[1],u=h-n;if(!u)return a;var l=a-i,c=1/r-1/u,f=l/u;return c?(-f+Math.sqrt(f*f-2*c*(l*l/(-2*u)-h+u/2+o-r/2)))/c+i:(i+a)/2}function Vo(t,n){var e=t.N;if(e)return qo(e,n);var i=t.site;return i[1]===n?i[0]:1/0}function Go(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function Yo(t,n){return n[1]-t[1]||n[0]-t[0]}function Xo(t,n){var e,i,o,r=t.sort(Yo).pop();for(Dc=[],Lc=new Array(t.length),Mc=new xo,Tc=new xo;;)if(o=Pc,r&&(!o||r[1]<o.y||r[1]===o.y&&r[0]<o.x))r[0]===e&&r[1]===i||(Wo(r),e=r[0],i=r[1]),r=t.pop();else{if(!o)break;Ho(o.arc)}if(No(),n){var s=+n[0][0],a=+n[0][1],h=+n[1][0],u=+n[1][1];So(s,a,h,u),Bo(s,a,h,u)}this.edges=Dc,this.cells=Lc,Mc=Tc=Dc=Lc=null}function Jo(t,n,e){this.target=t,this.type=n,this.transform=e}function Ko(t,n,e){this.k=t,this.x=n,this.y=e}function $o(){ku.stopImmediatePropagation()}function Qo(){return!ku.button}function tr(){var t,n,e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,t=e.width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function nr(){return this.__zoom||zc}function er(t){return{type:t}}function ir(){this.reset()}function or(t,n,e){var i=t.s=n+e,o=i-n,r=i-o;t.t=n-r+(e-o)}function rr(t){return t>1?0:t<-1?Zc:Math.acos(t)}function sr(t){return t>1?Rc:t<-1?-Rc:Math.asin(t)}function ar(){}function hr(t){var n=t[0],e=t[1],i=Gc(e);return[i*Gc(n),i*Jc(n),Jc(e)]}function ur(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function lr(t){var n=Kc(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function cr(t,n){return[t>Zc?t-Fc:t<-Zc?t+Fc:t,n]}function fr(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function _r(t){if(n=t.length){for(var n,e,i=0,o=t[0];++i<n;)o.n=e=t[i],e.p=o,o=e;o.n=e=t[0],e.p=o}}function pr(t){this._context=t}function dr(){this._string=[]}function mr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function gr(t){return t.length>1}function vr(t,n){return((t=t.x)[0]<0?t[1]-Rc-Ic:Rc-t[1])-((n=n.x)[0]<0?n[1]-Rc-Ic:Rc-n[1])}function yr(t){var n,e=NaN,i=NaN,o=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(r,s){var a=r>0?Zc:-Zc,h=Wc(r-e);Wc(h-Zc)<Ic?(t.point(e,i=(i+s)/2>0?Rc:-Rc),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(r,i),n=0):o!==a&&h>=Zc&&(Wc(e-o)<Ic&&(e-=o*Ic),Wc(r-a)<Ic&&(r-=a*Ic),i=xr(e,i,r,s),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(a,i),n=0),t.point(e=r,i=s),o=a},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-n}}}function xr(t,n,e,i){var o,r,s=Jc(t-e);return Wc(s)>Ic?qc((Jc(n)*(r=Gc(i))*Jc(e)-Jc(i)*(o=Gc(n))*Jc(t))/(o*r*s)):(n+i)/2}function wr(t,n,e,i){var o;if(null==t)o=e*Rc,i.point(-Zc,o),i.point(0,o),i.point(Zc,o),i.point(Zc,0),i.point(Zc,-o),i.point(0,-o),i.point(-Zc,-o),i.point(-Zc,0),i.point(-Zc,o);else if(Wc(t[0]-n[0])>Ic){var r=t[0]<n[0]?Zc:-Zc;o=e*r/2,i.point(-r,o),i.point(0,o),i.point(r,o)}else i.point(n[0],n[1])}function br(t){function n(){}var e=n.prototype=Object.create(Pr.prototype);for(var i in t)e[i]=t[i];return function(t){var e=new n;return e.stream=t,e}}function Pr(){}function Mr(t){return function(n,e){var i=Gc(n),o=Gc(e),r=t(i*o);return[r*o*Jc(n),r*Jc(e)]}}function Lr(t){return function(n,e){var i=Kc(n*n+e*e),o=t(i),r=Jc(o),s=Gc(o);return[Vc(n*r,i*s),sr(i&&e*r/i)]}}function Tr(t,n){return[t,Xc($c((Rc+n)/2))]}function Dr(t,n){return[t,n]}function Cr(t,n){var e=Gc(n),i=Gc(t)*e;return[e*Jc(t)/i,Jc(n)/i]}function Er(t,n){return[Gc(n)*Jc(t),Jc(n)]}function Sr(t,n){var e=Gc(n),i=1+Gc(t)*e;return[e*Jc(t)/i,Jc(n)/i]}function kr(t,n){return[Xc($c((Rc+n)/2)),-t]}function Ur(t,n,e){var i=Object(),r=t.margin,s=t.width,a=t.height,h=xu().range([0,s]),u=_e().range([a,0]),l=xu().range([0,s]),c=vl(n).append("svg").attr("width",s+r.left+r.right).attr("height",a+r.top+r.bottom),f=c.append("g").attr("transform","translate("+r.left+","+r.top+")"),_=[NaN,NaN],p=[NaN,NaN],d=so(h),m=ao(u),g=f.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+a+")").call(d),v=f.append("g").attr("class","axis axis--y").call(m);c.append("text").attr("class","y label").attr("x",-a-r.top).attr("y",16).attr("dy",".75em").attr("transform","rotate(-90)").text(e),c.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",s).attr("height",a);var y=f.append("rect").attr("width",s).attr("height",a).attr("class","plotArea");return i.xDomain=_,i.yDomain=p,i.margin=r,i.svg=c,i.g=f,i.gX=g,i.gY=v,i.x=h,i.y=u,i.x_=l,i.xAxis=d,i.yAxis=m,i.zoomRect=y,i.series=o(),i}function zr(t,n,e){var i=Gr(n,function(t){return t.t});isFinite(t.xDomain[0])?t.xDomain[0]=Math.min(i[0],t.xDomain[0]):t.xDomain[0]=i[0],isFinite(t.xDomain[1])?t.xDomain[1]=Math.max(i[1],t.xDomain[1]):t.xDomain[1]=i[1],t.x.domain(t.xDomain),t.x_.domain(t.xDomain),t.gX.call(t.xAxis);var o=Bs().x(function(n){return t.x(n.t)}).y(function(n){return t.y(n.y)}),r=t.g.append("path").datum(n).attr("class","line active "+e).attr("d",o);return t.series.set(e,o),{path:r,line:o}}function Ar(t,n,e){var i=Gr(n,function(t){return t.t});isFinite(t.xDomain[0])?t.xDomain[0]=Math.min(i[0],t.xDomain[0]):t.xDomain[0]=i[0],isFinite(t.xDomain[1])?t.xDomain[1]=Math.max(i[1],t.xDomain[1]):t.xDomain[1]=i[1],t.x.domain(t.xDomain),t.x_.domain(t.xDomain),t.gX.call(t.xAxis);var o=t.g.append("g").attr("class","active "+e),r=o.selectAll("line").data(n);r.enter().append("line").attr("x1",function(n){return t.x(n.t)}).attr("y1",function(n){return t.y(n.y)}).attr("x2",function(n){return t.x(n.t)+n.vx}).attr("y2",function(n){return t.y(n.y)+n.vy}).attr("class","vec "+e).merge(r);var s=o.selectAll("circle").data(n);s.enter().append("circle").attr("cx",function(n){return t.x(n.t)}).attr("cy",function(n){return t.y(n.y)}).attr("r",1.8).attr("class","vec active "+e).merge(s)}function Nr(t){for(var n,e,i=t.g.selectAll("path.active").data(),o=null,r=null,s=0;s!=i.length;s++)n=is(i[s],function(t){return t.y}),e=ts(i[s],function(t){return t.y}),o=null===o?n:Math.min(n,o),r=null===r?e:Math.max(e,r);t.yDomain[0]=o,t.yDomain[1]=r,t.y.domain(t.yDomain),t.gY.call(t.yAxis.scale(t.y)),t.g.selectAll("path.active").attr("d",t.series.values()[0])}function Br(t){var n=t.g.selectAll("circle.active").data();t.yDomain[0]=Math.max(0,is(n,function(t){return t.y-1})),t.yDomain[1]=ts(n,function(t){return t.y+1}),t.y.domain(t.yDomain),t.gY.call(t.yAxis.scale(t.y)),t.g.selectAll("circle.vec").attr("cy",function(n){return t.y(n.y)}),t.g.selectAll("line.vec").attr("y1",function(n){return t.y(n.y)}).attr("y2",function(n){Rr(100*n.east,100*n.north);return t.y(n.y)+n.vy})}function Or(t){t.g.selectAll(".line").attr("d",t.series.values()[0]),t.g.selectAll("circle.vec").attr("cx",function(n){return t.x(n.t)}),t.g.selectAll("line.vec").attr("x1",function(n){return t.x(n.t)}).attr("x2",function(n){Rr(100*n.east,100*n.north);return t.x(n.t)+n.vx})}function Ir(){for(var t,n=ku.transform,e=0;e!=axes.length;e++)t=axes[e],t.x.domain(n.rescaleX(t.x_).domain()),t.gX.call(t.xAxis.scale(t.x)),Or(t)}function Zr(t){for(var n=Object.keys(t),e=0;e!=n.length;e++)if(null===t[n[e]])return!1;return!0}function Rr(t,n){var e=Math.sqrt(t*t+n*n);return 0==e?{mag:e,u:0,v:0}:{mag:e,u:t/e,v:n/e}}function jr(t){for(var n,e=Object.keys(t),i=Array(),o=0,r=0;r!=e.length;r++)o=Math.max(t[e[r]].length);for(var s=0;s!=o;s++){for(var a=Object(),r=0;r!=e.length;r++)n=e[r],t[n].length>s?a[n]=t[e[r]][s]:a[n]=null;i.push(a)}return i}var Fr=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},Hr=function(t){return 1===t.length&&(t=n(t)),{left:function(n,e,i,o){for(null==i&&(i=0),null==o&&(o=n.length);i<o;){var r=i+o>>>1;t(n[r],e)<0?i=r+1:o=r}return i},right:function(n,e,i,o){for(null==i&&(i=0),null==o&&(o=n.length);i<o;){var r=i+o>>>1;t(n[r],e)>0?o=r:i=r+1}return i}}},Wr=Hr(Fr),qr=Wr.right,Vr=function(t){return null===t?NaN:+t},Gr=function(t,n){var e,i,o,r=-1,s=t.length;if(null==n){for(;++r<s;)if(null!=(i=t[r])&&i>=i){e=o=i;break}for(;++r<s;)null!=(i=t[r])&&(e>i&&(e=i),o<i&&(o=i))}else{for(;++r<s;)if(null!=(i=n(t[r],r,t))&&i>=i){e=o=i;break}for(;++r<s;)null!=(i=n(t[r],r,t))&&(e>i&&(e=i),o<i&&(o=i))}return[e,o]},Yr=Array.prototype,Xr=(Yr.slice,Yr.map,function(t,n,e){t=+t,n=+n,e=(o=arguments.length)<2?(n=t,t=0,1):o<3?1:+e;for(var i=-1,o=0|Math.max(0,Math.ceil((n-t)/e)),r=new Array(o);++i<o;)r[i]=t+i*e;return r}),Jr=Math.sqrt(50),Kr=Math.sqrt(10),$r=Math.sqrt(2),Qr=function(t,n,i){var o=e(t,n,i);return Xr(Math.ceil(t/o)*o,Math.floor(n/o)*o+o/2,o)},ts=function(t,n){var e,i,o=-1,r=t.length;if(null==n){for(;++o<r;)if(null!=(i=t[o])&&i>=i){e=i;break}for(;++o<r;)null!=(i=t[o])&&i>e&&(e=i)}else{for(;++o<r;)if(null!=(i=n(t[o],o,t))&&i>=i){e=i;break}for(;++o<r;)null!=(i=n(t[o],o,t))&&i>e&&(e=i)}return e},ns=function(t,n){var e,i=0,o=t.length,r=-1,s=o;if(null==n)for(;++r<o;)isNaN(e=Vr(t[r]))?--s:i+=e;else for(;++r<o;)isNaN(e=Vr(n(t[r],r,t)))?--s:i+=e;if(s)return i/s},es=function(t){for(var n,e,i,o=t.length,r=-1,s=0;++r<o;)s+=t[r].length;for(e=new Array(s);--o>=0;)for(i=t[o],n=i.length;--n>=0;)e[--s]=i[n];return e},is=function(t,n){var e,i,o=-1,r=t.length;if(null==n){for(;++o<r;)if(null!=(i=t[o])&&i>=i){e=i;break}for(;++o<r;)null!=(i=t[o])&&e>i&&(e=i)}else{for(;++o<r;)if(null!=(i=n(t[o],o,t))&&i>=i){e=i;break}for(;++o<r;)null!=(i=n(t[o],o,t))&&e>i&&(e=i)}return e},os="$";i.prototype=o.prototype={constructor:i,has:function(t){return os+t in this},get:function(t){return this[os+t]},set:function(t,n){return this[os+t]=n,this},remove:function(t){var n=os+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===os&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===os&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===os&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===os&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===os&&++t;return t},empty:function(){for(var t in this)if(t[0]===os)return!1;return!0},each:function(t){for(var n in this)n[0]===os&&t(this[n],n.slice(1),this)}};var rs=o.prototype;r.prototype=s.prototype={constructor:r,has:rs.has,add:function(t){return t+="",this[os+t]=t,this},remove:rs.remove,clear:rs.clear,values:rs.keys,size:rs.size,empty:rs.empty,each:rs.each};var ss=3,as=(function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(ss),function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(ss),function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(ss),4/11),hs=1.70158,us=(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(hs),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(hs),function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(hs),2*Math.PI),ls=1,cs=.3,fs=(function t(n,e){function i(t){return n*Math.pow(2,10*--t)*Math.sin((o-t)/e)}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=us);return i.amplitude=function(n){return t(n,e*us)},i.period=function(e){return t(n,e)},i}(ls,cs),function t(n,e){function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/e)}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=us);return i.amplitude=function(n){return t(n,e*us)},i.period=function(e){return t(n,e)},i}(ls,cs),function t(n,e){function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((o-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((o+t)/e))/2}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=us);return i.amplitude=function(n){return t(n,e*us)},i.period=function(e){return t(n,e)},i}(ls,cs),Math.PI),_s=2*fs,ps=1e-6,ds=_s-ps;h.prototype=u.prototype={constructor:h,moveTo:function(t,n){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._.push("Z"))},lineTo:function(t,n){this._.push("L",this._x1=+t,",",this._y1=+n)},quadraticCurveTo:function(t,n,e,i){this._.push("Q",+t,",",+n,",",this._x1=+e,",",this._y1=+i)},bezierCurveTo:function(t,n,e,i,o,r){this._.push("C",+t,",",+n,",",+e,",",+i,",",this._x1=+o,",",this._y1=+r)},arcTo:function(t,n,e,i,o){t=+t,n=+n,e=+e,i=+i,o=+o;var r=this._x1,s=this._y1,a=e-t,h=i-n,u=r-t,l=s-n,c=u*u+l*l;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._.push("M",this._x1=t,",",this._y1=n);else if(c>ps)if(Math.abs(l*a-h*u)>ps&&o){var f=e-r,_=i-s,p=a*a+h*h,d=f*f+_*_,m=Math.sqrt(p),g=Math.sqrt(c),v=o*Math.tan((fs-Math.acos((p+c-d)/(2*m*g)))/2),y=v/g,x=v/m;Math.abs(y-1)>ps&&this._.push("L",t+y*u,",",n+y*l),this._.push("A",o,",",o,",0,0,",+(l*f>u*_),",",this._x1=t+x*a,",",this._y1=n+x*h)}else this._.push("L",this._x1=t,",",this._y1=n);else;},arc:function(t,n,e,i,o,r){t=+t,n=+n,e=+e;var s=e*Math.cos(i),a=e*Math.sin(i),h=t+s,u=n+a,l=1^r,c=r?i-o:o-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._.push("M",h,",",u):(Math.abs(this._x1-h)>ps||Math.abs(this._y1-u)>ps)&&this._.push("L",h,",",u),e&&(c>ds?this._.push("A",e,",",e,",0,1,",l,",",t-s,",",n-a,"A",e,",",e,",0,1,",l,",",this._x1=h,",",this._y1=u):(c<0&&(c=c%_s+_s),this._.push("A",e,",",e,",0,",+(c>=fs),",",l,",",this._x1=t+e*Math.cos(o),",",this._y1=n+e*Math.sin(o))))},rect:function(t,n,e,i){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+n,"h",+e,"v",+i,"h",-e,"Z")},toString:function(){return this._.join("")}};var ms=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return l(this.cover(n,e),n,e,t)},gs=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,i=this._y0,o=this._x1,r=this._y1;if(isNaN(e))o=(e=Math.floor(t))+1,r=(i=Math.floor(n))+1;else{if(!(e>t||t>o||i>n||n>r))return this;var s,a,h=o-e,u=this._root;switch(a=(n<(i+r)/2)<<1|t<(e+o)/2){case 0:do s=new Array(4),s[a]=u,u=s;while(h*=2,o=e+h,r=i+h,t>o||n>r);break;case 1:do s=new Array(4),s[a]=u,u=s;while(h*=2,e=o-h,r=i+h,e>t||n>r);break;case 2:do s=new Array(4),s[a]=u,u=s;while(h*=2,o=e+h,i=r-h,t>o||i>n);break;case 3:do s=new Array(4),s[a]=u,u=s;while(h*=2,e=o-h,i=r-h,e>t||i>n)}this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._y0=i,this._x1=o,this._y1=r,this},vs=function(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t},ys=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},xs=function(t,n,e,i,o){this.node=t,this.x0=n,this.y0=e,this.x1=i,this.y1=o},ws=function(t,n,e){var i,o,r,s,a,h,u,l=this._x0,c=this._y0,f=this._x1,_=this._y1,p=[],d=this._root;for(d&&p.push(new xs(d,l,c,f,_)),null==e?e=1/0:(l=t-e,c=n-e,f=t+e,_=n+e,e*=e);h=p.pop();)if(!(!(d=h.node)||(o=h.x0)>f||(r=h.y0)>_||(s=h.x1)<l||(a=h.y1)<c))if(d.length){var m=(o+s)/2,g=(r+a)/2;p.push(new xs(d[3],m,g,s,a),new xs(d[2],o,g,m,a),new xs(d[1],m,r,s,g),new xs(d[0],o,r,m,g)),(u=(n>=g)<<1|t>=m)&&(h=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=h)}else{var v=t-+this._x.call(null,d.data),y=n-+this._y.call(null,d.data),x=v*v+y*y;if(x<e){var w=Math.sqrt(e=x);l=t-w,c=n-w,f=t+w,_=n+w,i=d.data}}return i},bs=function(t){if(isNaN(r=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var n,e,i,o,r,s,a,h,u,l,c,f,_=this._root,p=this._x0,d=this._y0,m=this._x1,g=this._y1;if(!_)return this;if(_.length)for(;;){if((u=r>=(a=(p+m)/2))?p=a:m=a,(l=s>=(h=(d+g)/2))?d=h:g=h,n=_,!(_=_[c=l<<1|u]))return this;if(!_.length)break;(n[c+1&3]||n[c+2&3]||n[c+3&3])&&(e=n,f=c)}for(;_.data!==t;)if(i=_,!(_=_.next))return this;return(o=_.next)&&delete _.next,i?(o?i.next=o:delete i.next,this):n?(o?n[c]=o:delete n[c],(_=n[0]||n[1]||n[2]||n[3])&&_===(n[3]||n[2]||n[1]||n[0])&&!_.length&&(e?e[f]=_:this._root=_),this):(this._root=o,this)},Ps=function(){return this._root},Ms=function(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t},Ls=function(t){var n,e,i,o,r,s,a=[],h=this._root;for(h&&a.push(new xs(h,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(h=n.node,i=n.x0,o=n.y0,r=n.x1,s=n.y1)&&h.length){var u=(i+r)/2,l=(o+s)/2;(e=h[3])&&a.push(new xs(e,u,l,r,s)),(e=h[2])&&a.push(new xs(e,i,l,u,s)),(e=h[1])&&a.push(new xs(e,u,o,r,l)),(e=h[0])&&a.push(new xs(e,i,o,u,l))}return this},Ts=function(t){var n,e=[],i=[];for(this._root&&e.push(new xs(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var o=n.node;if(o.length){var r,s=n.x0,a=n.y0,h=n.x1,u=n.y1,l=(s+h)/2,c=(a+u)/2;(r=o[0])&&e.push(new xs(r,s,a,l,c)),(r=o[1])&&e.push(new xs(r,l,a,h,c)),(r=o[2])&&e.push(new xs(r,s,c,l,u)),(r=o[3])&&e.push(new xs(r,l,c,h,u))}i.push(n)}for(;n=i.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Ds=function(t){return arguments.length?(this._x=t,this):this._x},Cs=function(t){return arguments.length?(this._y=t,this):this._y},Es=d.prototype=m.prototype;Es.copy=function(){var t,n,e=new m(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return e;if(!i.length)return e._root=g(i),e;for(t=[{source:i,target:e._root=new Array(4)}];i=t.pop();)for(var o=0;o<4;++o)(n=i.source[o])&&(n.length?t.push({source:n,target:i.target[o]=new Array(4)}):i.target[o]=g(n));return e},Es.add=ms,Es.addAll=c,Es.cover=gs,Es.data=vs,Es.extent=ys,Es.find=ws,Es.remove=bs,Es.removeAll=f,Es.root=Ps,Es.size=Ms,Es.visit=Ls,Es.visitAfter=Ts,Es.x=Ds,Es.y=Cs;var Ss=([].slice,{}),ks=function(t){return function(){return t}},Us=1e-12,zs=Math.PI,As=2*zs;P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var Ns=function(t){return new P(t)},Bs=function(){function t(t){var a,h,l,c=t.length,f=!1;for(null==o&&(s=r(l=u())),a=0;a<=c;++a)!(a<c&&i(h=t[a],a,t))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+n(h,a,t),+e(h,a,t));if(l)return s=null,l+""||null}var n=M,e=L,i=ks(!0),o=null,r=Ns,s=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:ks(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:ks(+n),t):e},t.defined=function(n){return arguments.length?(i="function"==typeof n?n:ks(!!n),t):i},t.curve=function(n){return arguments.length?(r=n,null!=o&&(s=r(o)),t):r},t.context=function(n){return arguments.length?(null==n?o=s=null:s=r(o=n),t):o},t};D(Ns);T.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var Os=(Math.sqrt(1/3),Math.sin(zs/10)/Math.sin(7*zs/10)),Is=(Math.sin(As/10)*Os,-Math.cos(As/10)*Os,Math.sqrt(3),Math.sqrt(3)/2,1/Math.sqrt(12)),Zs=function(){};E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:C(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n;
}},S.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var i,o=t[0],r=n[0],s=t[e]-o,a=n[e]-r,h=-1;++h<=e;)i=h/e,this._basis.point(this._beta*t[h]+(1-this._beta)*(o+i*s),this._beta*n[h]+(1-this._beta)*(r+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}},function t(n){function e(t){return 1===n?new E(t):new S(t,n)}return e.beta=function(n){return t(+n)},e}(.85),U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:k(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:k(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return new U(t,n)}return e.tension=function(n){return t(+n)},e}(0),z.prototype={areaStart:Zs,areaEnd:Zs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:k(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return new z(t,n)}return e.tension=function(n){return t(+n)},e}(0),A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:k(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return new A(t,n)}return e.tension=function(n){return t(+n)},e}(0),B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:N(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return n?new B(t,n):new U(t,0)}return e.alpha=function(n){return t(+n)},e}(.5),O.prototype={areaStart:Zs,areaEnd:Zs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:N(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return n?new O(t,n):new z(t,0)}return e.alpha=function(n){return t(+n)},e}(.5),I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:N(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return n?new I(t,n):new A(t,0)}return e.alpha=function(n){return t(+n)},e}(.5),H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F(this,this._t0,j(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,F(this,j(this,e=R(this,t,n)),e);break;default:F(this,this._t0,e=R(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(W.prototype=Object.create(H.prototype)).point=function(t,n){H.prototype.point.call(this,n,t)},q.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,i,o,r){this._context.bezierCurveTo(n,t,i,e,r,o)}};var Rs=(Array.prototype.slice,function(t,n,e){t.prototype=n.prototype=e,e.constructor=t}),js=.7,Fs=1/js,Hs=/^#([0-9a-f]{3})$/,Ws=/^#([0-9a-f]{6})$/,qs=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,Vs=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,Gs=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Ys=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Xs=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,Js=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Ks={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rs(G,Y,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Rs(Q,$,V(G,{brighter:function(t){return t=null==t?Fs:Math.pow(Fs,t),new Q(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?js:Math.pow(js,t),new Q(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Rs(it,et,V(G,{brighter:function(t){return t=null==t?Fs:Math.pow(Fs,t),new it(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?js:Math.pow(js,t),new it(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,o=2*e-i;return new Q(ot(t>=240?t-240:t+120,o,i),ot(t,o,i),ot(t<120?t+240:t-120,o,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var $s=Math.PI/180,Qs=180/Math.PI,ta=18,na=.95047,ea=1,ia=1.08883,oa=4/29,ra=6/29,sa=3*ra*ra,aa=ra*ra*ra;Rs(at,st,V(G,{brighter:function(t){return new at(this.l+ta*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new at(this.l-ta*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=ea*ut(t),n=na*ut(n),e=ia*ut(e),new Q(lt(3.2404542*n-1.5371385*t-.4985314*e),lt(-.969266*n+1.8760108*t+.041556*e),lt(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),Rs(pt,_t,V(G,{brighter:function(t){return new pt(this.h,this.c,this.l+ta*(null==t?1:t),this.opacity)},darker:function(t){return new pt(this.h,this.c,this.l-ta*(null==t?1:t),this.opacity)},rgb:function(){return rt(this).rgb()}}));var ha=-.14861,ua=1.78277,la=-.29227,ca=-.90649,fa=1.97294,_a=fa*ca,pa=fa*ua,da=ua*la-ca*ha;Rs(gt,mt,V(G,{brighter:function(t){return t=null==t?Fs:Math.pow(Fs,t),new gt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?js:Math.pow(js,t),new gt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*$s,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),i=Math.cos(t),o=Math.sin(t);return new Q(255*(n+e*(ha*i+ua*o)),255*(n+e*(la*i+ca*o)),255*(n+e*(fa*i)),this.opacity)}}));var ma,ga,va,ya,xa=function(t){return function(){return t}},wa=function t(n){function e(t,n){var e=i((t=$(t)).r,(n=$(n)).r),o=i(t.g,n.g),r=i(t.b,n.b),s=i(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=o(n),t.b=r(n),t.opacity=s(n),t+""}}var i=wt(n);return e.gamma=t,e}(1),ba=function(t,n){var e,i=n?n.length:0,o=t?Math.min(i,t.length):0,r=new Array(i),s=new Array(i);for(e=0;e<o;++e)r[e]=Ea(t[e],n[e]);for(;e<i;++e)s[e]=n[e];return function(t){for(e=0;e<o;++e)s[e]=r[e](t);return s}},Pa=function(t,n){var e=new Date;return t=+t,n-=t,function(i){return e.setTime(t+n*i),e}},Ma=function(t,n){return t=+t,n-=t,function(e){return t+n*e}},La=function(t,n){var e,i={},o={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(e in n)e in t?i[e]=Ea(t[e],n[e]):o[e]=n[e];return function(t){for(e in i)o[e]=i[e](t);return o}},Ta=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Da=new RegExp(Ta.source,"g"),Ca=function(t,n){var e,i,o,r=Ta.lastIndex=Da.lastIndex=0,s=-1,a=[],h=[];for(t+="",n+="";(e=Ta.exec(t))&&(i=Da.exec(n));)(o=i.index)>r&&(o=n.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(e=e[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,h.push({i:s,x:Ma(e,i)})),r=Da.lastIndex;return r<n.length&&(o=n.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?h[0]?Mt(h[0].x):Pt(n):(n=h.length,function(t){for(var e,i=0;i<n;++i)a[(e=h[i]).i]=e.x(t);return a.join("")})},Ea=function(t,n){var e,i=typeof n;return null==n||"boolean"===i?xa(n):("number"===i?Ma:"string"===i?(e=Y(n))?(n=e,wa):Ca:n instanceof Y?wa:n instanceof Date?Pa:Array.isArray(n)?ba:isNaN(n)?La:Ma)(t,n)},Sa=function(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}},ka=180/Math.PI,Ua={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},za=function(t,n,e,i,o,r){var s,a,h;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(h=t*e+n*i)&&(e-=t*h,i-=n*h),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,h/=a),t*i<n*e&&(t=-t,n=-n,h=-h,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(n,t)*ka,skewX:Math.atan(h)*ka,scaleX:s,scaleY:a}},Aa=Dt(Lt,"px, ","px)","deg)"),Na=Dt(Tt,", ",")",")"),Ba=Math.SQRT2,Oa=2,Ia=4,Za=1e-12,Ra=function(t,n){var e,i,o=t[0],r=t[1],s=t[2],a=n[0],h=n[1],u=n[2],l=a-o,c=h-r,f=l*l+c*c;if(f<Za)i=Math.log(u/s)/Ba,e=function(t){return[o+t*l,r+t*c,s*Math.exp(Ba*t*i)]};else{var _=Math.sqrt(f),p=(u*u-s*s+Ia*f)/(2*s*Oa*_),d=(u*u-s*s-Ia*f)/(2*u*Oa*_),m=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(d*d+1)-d);i=(g-m)/Ba,e=function(t){var n=t*i,e=Ct(m),a=s/(Oa*_)*(e*St(Ba*n+m)-Et(m));return[o+a*l,r+a*c,s*e/Ct(Ba*n+m)]}}return e.duration=1e3*i,e};kt(xt);var ja=kt(bt),Fa={value:function(){}};zt.prototype=Ut.prototype={constructor:zt,on:function(t,n){var e,i=this._,o=At(t+"",i),r=-1,s=o.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++r<s;)if(e=(t=o[r]).type)i[e]=Bt(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Bt(i[e],t.name,null);return this}for(;++r<s;)if((e=(t=o[r]).type)&&(e=Nt(i[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new zt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,i,o=new Array(e),r=0;r<e;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,e=i.length;r<e;++r)i[r].value.apply(n,o)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(n,e)}};var Ha=function(t){function n(t,n){var i,o,r=e(t,function(t,e){return i?i(t,e-1):(o=t,void(i=n?It(t,n):Ot(t)))});return r.columns=o,r}function e(t,n){function e(){if(l>=u)return s;if(o)return o=!1,r;var n,e=l;if(34===t.charCodeAt(e)){for(var i=e;i++<u;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}return l=i+2,n=t.charCodeAt(i+1),13===n?(o=!0,10===t.charCodeAt(i+2)&&++l):10===n&&(o=!0),t.slice(e+1,i).replace(/""/g,'"')}for(;l<u;){var a=1;if(n=t.charCodeAt(l++),10===n)o=!0;else if(13===n)o=!0,10===t.charCodeAt(l)&&(++l,++a);else if(n!==h)continue;return t.slice(e,l-a)}return t.slice(e)}for(var i,o,r={},s={},a=[],u=t.length,l=0,c=0;(i=e())!==s;){for(var f=[];i!==r&&i!==s;)f.push(i),i=e();n&&null==(f=n(f,c++))||a.push(f)}return a}function i(n,e){return null==e&&(e=Zt(n)),[e.map(s).join(t)].concat(n.map(function(n){return e.map(function(t){return s(n[t])}).join(t)})).join("\n")}function o(t){return t.map(r).join("\n")}function r(n){return n.map(s).join(t)}function s(t){return null==t?"":a.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),h=t.charCodeAt(0);return{parse:n,parseRows:e,format:i,formatRows:o}},Wa=Ha(","),qa=Wa.parse,Va=Ha("\t"),Ga=Va.parse,Ya=function(t,n){function e(t){var n,e=l.status;if(!e&&jt(l)||e>=200&&e<300||304===e){if(s)try{n=s.call(i,l)}catch(t){return void h.call("error",i,t)}else n=l;h.call("load",i,n)}else h.call("error",i,t)}var i,r,s,a,h=Ut("beforesend","progress","load","error"),u=o(),l=new XMLHttpRequest,c=null,f=null,_=0;if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=e:l.onreadystatechange=function(t){l.readyState>3&&e(t)},l.onprogress=function(t){h.call("progress",i,t)},i={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?u.get(t):(null==n?u.remove(t):u.set(t,n+""),i)},mimeType:function(t){return arguments.length?(r=null==t?null:t+"",i):r},responseType:function(t){return arguments.length?(a=t,i):a},timeout:function(t){return arguments.length?(_=+t,i):_},user:function(t){return arguments.length<1?c:(c=null==t?null:t+"",i)},password:function(t){return arguments.length<1?f:(f=null==t?null:t+"",i)},response:function(t){return s=t,i},get:function(t,n){return i.send("GET",t,n)},post:function(t,n){return i.send("POST",t,n)},send:function(n,e,o){return l.open(n,t,!0,c,f),null==r||u.has("accept")||u.set("accept",r+",*/*"),l.setRequestHeader&&u.each(function(t,n){l.setRequestHeader(n,t)}),null!=r&&l.overrideMimeType&&l.overrideMimeType(r),null!=a&&(l.responseType=a),_>0&&(l.timeout=_),null==o&&"function"==typeof e&&(o=e,e=null),null!=o&&1===o.length&&(o=Rt(o)),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),h.call("beforesend",i,l),l.send(null==e?null:e),i},abort:function(){return l.abort(),i},on:function(){var t=h.on.apply(h,arguments);return t===h?i:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return i.get(n)}return i},Xa=function(t,n){return function(e,i){var o=Ya(e).mimeType(t).response(n);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return o.get(i)}return o}};Xa("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)});var Ja=Xa("application/json",function(t){return JSON.parse(t.responseText)});Xa("text/plain",function(t){return t.responseText}),Xa("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n});var Ka=function(t,n){return function(e,i,o){arguments.length<3&&(o=i,i=null);var r=Ya(e).mimeType(t);return r.row=function(t){return arguments.length?r.response(Ft(n,i=t)):i},r.row(i),o?r.get(o):r}};Ka("text/csv",qa),Ka("text/tab-separated-values",Ga);var $a,Qa,th=0,nh=0,eh=0,ih=1e3,oh=0,rh=0,sh=0,ah="object"==typeof performance&&performance.now?performance:Date,hh="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};qt.prototype=Vt.prototype={constructor:qt,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ht():+e)+(null==n?0:+n),this._next||Qa===this||(Qa?Qa._next=this:$a=this,Qa=this),this._call=t,this._time=e,Kt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kt())}};var uh=function(t,n,e){var i=new qt;return n=null==n?0:+n,i.restart(function(e){i.stop(),t(e+n)},n,e),i},lh=new Date,ch=new Date,fh=$t(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});fh.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?$t(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):fh:null};var _h=1e3,ph=6e4,dh=36e5,mh=864e5,gh=6048e5,vh=$t(function(t){t.setTime(Math.floor(t/_h)*_h)},function(t,n){t.setTime(+t+n*_h)},function(t,n){return(n-t)/_h},function(t){return t.getUTCSeconds()}),yh=$t(function(t){t.setTime(Math.floor(t/ph)*ph)},function(t,n){t.setTime(+t+n*ph)},function(t,n){return(n-t)/ph},function(t){return t.getMinutes()}),xh=$t(function(t){var n=t.getTimezoneOffset()*ph%dh;n<0&&(n+=dh),t.setTime(Math.floor((+t-n)/dh)*dh+n)},function(t,n){t.setTime(+t+n*dh)},function(t,n){return(n-t)/dh},function(t){return t.getHours()}),wh=$t(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ph)/mh},function(t){return t.getDate()-1}),bh=Qt(0),Ph=Qt(1),Mh=(Qt(2),Qt(3),Qt(4),Qt(5),Qt(6),$t(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Lh=$t(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Lh.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$t(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var Th=($t(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*ph)},function(t,n){return(n-t)/ph},function(t){return t.getUTCMinutes()}),$t(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*dh)},function(t,n){return(n-t)/dh},function(t){return t.getUTCHours()}),$t(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/mh},function(t){return t.getUTCDate()-1})),Dh=tn(0),Ch=tn(1),Eh=(tn(2),tn(3),tn(4),tn(5),tn(6),$t(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),$t(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Eh.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$t(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Sh,kh=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]},Uh=function(t){return t=kh(Math.abs(t)),t?t[1]:NaN},zh=function(t,n){return function(e,i){for(var o=e.length,r=[],s=0,a=t[0],h=0;o>0&&a>0&&(h+a+1>i&&(a=Math.max(1,i-h)),r.push(e.substring(o-=a,o+a)),!((h+=a+1)>i));)a=t[s=(s+1)%t.length];return r.reverse().join(n)}},Ah=function(t,n){t=t.toPrecision(n);t:for(var e,i=t.length,o=1,r=-1;o<i;++o)switch(t[o]){case".":r=e=o;break;case"0":0===r&&(r=o),e=o;break;case"e":break t;default:r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t},Nh=function(t,n){var e=kh(t,n);if(!e)return t+"";var i=e[0],o=e[1],r=o-(Sh=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return r===s?i:r>s?i+new Array(r-s+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+kh(t,Math.max(0,n+r-1))[0]},Bh=function(t,n){var e=kh(t,n);if(!e)return t+"";var i=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},Oh={"":Ah,"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Bh(100*t,n)},r:Bh,s:Nh,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ih=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,Zh=function(t){return new nn(t)};nn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Rh,jh,Fh,Hh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Wh=function(t){function n(t){function n(t){var n,o,h,v=p,y=d;if("c"===_)y=m(t)+y,t="";else{t=+t;var x=(t<0||1/t<0)&&(t*=-1,!0);if(t=m(t,f),x)for(n=-1,o=t.length,x=!1;++n<o;)if(h=t.charCodeAt(n),48<h&&h<58||"x"===_&&96<h&&h<103||"X"===_&&64<h&&h<71){x=!0;break}if(v=(x?"("===a?a:"-":"-"===a||"("===a?"":a)+v,y=y+("s"===_?Hh[8+Sh/3]:"")+(x&&"("===a?")":""),g)for(n=-1,o=t.length;++n<o;)if(h=t.charCodeAt(n),48>h||h>57){y=(46===h?r+t.slice(n+1):t.slice(n))+y,t=t.slice(0,n);break}}c&&!u&&(t=i(t,1/0));var w=v.length+t.length+y.length,b=w<l?new Array(l-w+1).join(e):"";switch(c&&u&&(t=i(b+t,b.length?l-y.length:1/0),b=""),s){case"<":return v+t+y+b;case"=":return v+b+t+y;case"^":return b.slice(0,w=b.length>>1)+v+t+y+b.slice(w)}return b+v+t+y}t=Zh(t);var e=t.fill,s=t.align,a=t.sign,h=t.symbol,u=t.zero,l=t.width,c=t.comma,f=t.precision,_=t.type,p="$"===h?o[0]:"#"===h&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",d="$"===h?o[1]:/[%p]/.test(_)?"%":"",m=Oh[_],g=!_||/[defgprs%]/.test(_);return f=null==f?_?6:12:/[gprs]/.test(_)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),n.toString=function(){return t+""},n}function e(t,e){var i=n((t=Zh(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(Uh(e)/3))),r=Math.pow(10,-o),s=Hh[8+o/3];return function(t){return i(r*t)+s}}var i=t.grouping&&t.thousands?zh(t.grouping,t.thousands):en,o=t.currency,r=t.decimal;return{format:n,formatPrefix:e}};on({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var qh,Vh,Gh,Yh,Xh,Jh=function(t){return Math.max(0,-Uh(Math.abs(t)))},Kh=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Uh(n)/3)))-Uh(Math.abs(t)))},$h=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Uh(n)-Uh(t))+1},Qh={"-":"",_:" ",0:"0"},tu=/^\s*\d+/,nu=/^%/,eu=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;ee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var iu="%Y-%m-%dT%H:%M:%S.%LZ",ou=(Date.prototype.toISOString?ie:Yh(iu),+new Date("2000-01-01T00:00:00.000Z")?oe:Xh(iu)),ru=Array.prototype,su=ru.map,au=ru.slice,hu=function(t){return function(){return t}},uu=function(t){return+t},lu=[0,1],cu=function(t,n,i){var o,r=t[0],s=t[t.length-1],a=e(r,s,null==n?10:n);switch(i=Zh(null==i?",f":i),i.type){case"s":var h=Math.max(Math.abs(r),Math.abs(s));return null!=i.precision||isNaN(o=Kh(a,h))||(i.precision=o),Fh(i,h);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=$h(a,Math.max(Math.abs(r),Math.abs(s))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=Jh(a))||(i.precision=o-2*("%"===i.type))}return jh(i)},fu=function(t,n){t=t.slice();var e,i=0,o=t.length-1,r=t[i],s=t[o];return s<r&&(e=i,i=o,o=e,e=r,r=s,s=e),t[i]=n.floor(r),t[o]=n.ceil(s),t},_u=1e3,pu=60*_u,du=60*pu,mu=24*du,gu=7*mu,vu=30*mu,yu=365*mu,xu=function(){return Le(Lh,Mh,bh,wh,xh,yh,vh,fh,Vh).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},wu=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})};wu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),wu("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),wu("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),wu("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ja(mt(300,.5,0),mt(-240,.5,1));var bu=(ja(mt(-100,.75,.35),mt(80,1.5,.8)),ja(mt(260,.75,.35),mt(80,1.5,.8)),mt(),"http://www.w3.org/1999/xhtml"),Pu={svg:"http://www.w3.org/2000/svg",xhtml:bu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Mu=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Pu.hasOwnProperty(n)?{space:Pu[n],local:t}:t},Lu=function(t){var n=Mu(t);return(n.local?De:Te)(n)},Tu=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Du=document.documentElement;if(!Du.matches){var Cu=Du.webkitMatchesSelector||Du.msMatchesSelector||Du.mozMatchesSelector||Du.oMatchesSelector;Tu=function(t){return function(){return Cu.call(this,t)}}}}var Eu=Tu,Su={},ku=null;if("undefined"!=typeof document){var Uu=document.documentElement;"onmouseenter"in Uu||(Su={mouseenter:"mouseover",mouseleave:"mouseout"})}var zu=function(t,n,e){var i,o,r=Se(t+""),s=r.length;{if(!(arguments.length<2)){for(a=n?Ue:ke,null==e&&(e=!1),i=0;i<s;++i)this.each(a(r[i],n,e));return this}var a=this.node().__on;if(a)for(var h,u=0,l=a.length;u<l;++u)for(i=0,h=a[u];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}},Au=function(){for(var t,n=ku;t=n.sourceEvent;)n=t;return n},Nu=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]},Bu=function(t){var n=Au();return n.changedTouches&&(n=n.changedTouches[0]),Nu(t,n)},Ou=function(t){return null==t?Ae:function(){return this.querySelector(t)}},Iu=function(t){"function"!=typeof t&&(t=Ou(t));for(var n=this._groups,e=n.length,i=new Array(e),o=0;o<e;++o)for(var r,s,a=n[o],h=a.length,u=i[o]=new Array(h),l=0;l<h;++l)(r=a[l])&&(s=t.call(r,r.__data__,l,a))&&("__data__"in r&&(s.__data__=r.__data__),
u[l]=s);return new yi(i,this._parents)},Zu=function(t){return null==t?Ne:function(){return this.querySelectorAll(t)}},Ru=function(t){"function"!=typeof t&&(t=Zu(t));for(var n=this._groups,e=n.length,i=[],o=[],r=0;r<e;++r)for(var s,a=n[r],h=a.length,u=0;u<h;++u)(s=a[u])&&(i.push(t.call(s,s.__data__,u,a)),o.push(s));return new yi(i,o)},ju=function(t){"function"!=typeof t&&(t=Eu(t));for(var n=this._groups,e=n.length,i=new Array(e),o=0;o<e;++o)for(var r,s=n[o],a=s.length,h=i[o]=[],u=0;u<a;++u)(r=s[u])&&t.call(r,r.__data__,u,s)&&h.push(r);return new yi(i,this._parents)},Fu=function(t){return new Array(t.length)},Hu=function(){return new yi(this._enter||this._groups.map(Fu),this._parents)};Be.prototype={constructor:Be,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Wu=function(t){return function(){return t}},qu="$",Vu=function(t,n){if(!t)return _=new Array(this.size()),u=-1,this.each(function(t){_[++u]=t}),_;var e=n?Ie:Oe,i=this._parents,o=this._groups;"function"!=typeof t&&(t=Wu(t));for(var r=o.length,s=new Array(r),a=new Array(r),h=new Array(r),u=0;u<r;++u){var l=i[u],c=o[u],f=c.length,_=t.call(l,l&&l.__data__,u,i),p=_.length,d=a[u]=new Array(p),m=s[u]=new Array(p),g=h[u]=new Array(f);e(l,c,d,m,g,_,n);for(var v,y,x=0,w=0;x<p;++x)if(v=d[x]){for(x>=w&&(w=x+1);!(y=m[w])&&++w<p;);v._next=y||null}}return s=new yi(s,i),s._enter=a,s._exit=h,s},Gu=function(){return new yi(this._exit||this._groups.map(Fu),this._parents)},Yu=function(t){for(var n=this._groups,e=t._groups,i=n.length,o=e.length,r=Math.min(i,o),s=new Array(i),a=0;a<r;++a)for(var h,u=n[a],l=e[a],c=u.length,f=s[a]=new Array(c),_=0;_<c;++_)(h=u[_]||l[_])&&(f[_]=h);for(;a<i;++a)s[a]=n[a];return new yi(s,this._parents)},Xu=function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i,o=t[n],r=o.length-1,s=o[r];--r>=0;)(i=o[r])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},Ju=function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Ze);for(var e=this._groups,i=e.length,o=new Array(i),r=0;r<i;++r){for(var s,a=e[r],h=a.length,u=o[r]=new Array(h),l=0;l<h;++l)(s=a[l])&&(u[l]=s);u.sort(n)}return new yi(o,this._parents).order()},Ku=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},$u=function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},Qu=function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null},tl=function(){var t=0;return this.each(function(){++t}),t},nl=function(){return!this.node()},el=function(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var o,r=n[e],s=0,a=r.length;s<a;++s)(o=r[s])&&t.call(o,o.__data__,s,r);return this},il=function(t,n){var e=Mu(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?je:Re:"function"==typeof n?e.local?qe:We:e.local?He:Fe)(e,n))},ol=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},rl=function(t,n,e){var i;return arguments.length>1?this.each((null==n?Ve:"function"==typeof n?Ye:Ge)(t,n,null==e?"":e)):ol(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},sl=function(t,n){return arguments.length>1?this.each((null==n?Xe:"function"==typeof n?Ke:Je)(t,n)):this.node()[t]};ti.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var al=function(t,n){var e=$e(t+"");if(arguments.length<2){for(var i=Qe(this.node()),o=-1,r=e.length;++o<r;)if(!i.contains(e[o]))return!1;return!0}return this.each(("function"==typeof n?ri:n?ii:oi)(e,n))},hl=function(t){return arguments.length?this.each(null==t?si:("function"==typeof t?hi:ai)(t)):this.node().textContent},ul=function(t){return arguments.length?this.each(null==t?ui:("function"==typeof t?ci:li)(t)):this.node().innerHTML},ll=function(){return this.each(fi)},cl=function(){return this.each(_i)},fl=function(t){var n="function"==typeof t?t:Lu(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},_l=function(t,n){var e="function"==typeof t?t:Lu(t),i=null==n?pi:"function"==typeof n?n:Ou(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},pl=function(){return this.each(di)},dl=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},ml=function(t,n){return this.each(("function"==typeof n?vi:gi)(t,n))},gl=[null];yi.prototype=xi.prototype={constructor:yi,select:Iu,selectAll:Ru,filter:ju,data:Vu,enter:Hu,exit:Gu,merge:Yu,order:Xu,sort:Ju,call:Ku,nodes:$u,node:Qu,size:tl,empty:nl,each:el,attr:il,style:rl,property:sl,classed:al,text:hl,html:ul,raise:ll,lower:cl,append:fl,insert:_l,remove:pl,datum:dl,on:zu,dispatch:ml};var vl=function(t){return"string"==typeof t?new yi([[document.querySelector(t)]],[document.documentElement]):new yi([[t]],gl)},yl=function(t,n,e){arguments.length<3&&(e=n,n=Au().changedTouches);for(var i,o=0,r=n?n.length:0;o<r;++o)if((i=n[o]).identifier===e)return Nu(t,i);return null},xl=Ut("start","end","interrupt"),wl=[],bl=0,Pl=1,Ml=2,Ll=3,Tl=4,Dl=5,Cl=6,El=function(t,n,e,i,o,r){var s=t.__transition;if(s){if(e in s)return}else t.__transition={};Mi(t,e,{name:n,index:i,group:o,on:xl,tween:wl,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:bl})},Sl=function(t,n){var e,i,o,r=t.__transition,s=!0;if(r){n=null==n?null:n+"";for(o in r)(e=r[o]).name===n?(i=e.state>Ml&&e.state<Dl,e.state=Cl,e.timer.stop(),i&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete r[o]):s=!1;s&&delete t.__transition}},kl=function(t){return this.each(function(){Sl(this,t)})},Ul=function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i,o=Pi(this.node(),e).tween,r=0,s=o.length;r<s;++r)if((i=o[r]).name===t)return i.value;return null}return this.each((null==n?Li:Ti)(e,t,n))},zl=function(t,n){var e;return("number"==typeof n?Ma:n instanceof Y?wa:(e=Y(n))?(n=e,wa):Ca)(t,n)},Al=function(t,n){var e=Mu(t),i="transform"===e?Na:zl;return this.attrTween(t,"function"==typeof n?(e.local?zi:Ui)(e,i,Di(this,"attr."+t,n)):null==n?(e.local?Ei:Ci)(e):(e.local?ki:Si)(e,i,n))},Nl=function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=Mu(t);return this.tween(e,(i.local?Ai:Ni)(i,n))},Bl=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Bi:Oi)(n,t)):Pi(this.node(),n).delay},Ol=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ii:Zi)(n,t)):Pi(this.node(),n).duration},Il=function(t){var n=this._id;return arguments.length?this.each(Ri(n,t)):Pi(this.node(),n).ease},Zl=function(t){"function"!=typeof t&&(t=Eu(t));for(var n=this._groups,e=n.length,i=new Array(e),o=0;o<e;++o)for(var r,s=n[o],a=s.length,h=i[o]=[],u=0;u<a;++u)(r=s[u])&&t.call(r,r.__data__,u,s)&&h.push(r);return new Ki(i,this._parents,this._name,this._id)},Rl=function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,o=e.length,r=Math.min(i,o),s=new Array(i),a=0;a<r;++a)for(var h,u=n[a],l=e[a],c=u.length,f=s[a]=new Array(c),_=0;_<c;++_)(h=u[_]||l[_])&&(f[_]=h);for(;a<i;++a)s[a]=n[a];return new Ki(s,this._parents,this._name,this._id)},jl=function(t,n){var e=this._id;return arguments.length<2?Pi(this.node(),e).on.on(t):this.each(Fi(e,t,n))},Fl=function(){return this.on("end.remove",Hi(this._id))},Hl=function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Ou(t));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var a,h,u=i[s],l=u.length,c=r[s]=new Array(l),f=0;f<l;++f)(a=u[f])&&(h=t.call(a,a.__data__,f,u))&&("__data__"in a&&(h.__data__=a.__data__),c[f]=h,El(c[f],n,e,f,c,Pi(a,e)));return new Ki(r,this._parents,n,e)},Wl=function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Zu(t));for(var i=this._groups,o=i.length,r=[],s=[],a=0;a<o;++a)for(var h,u=i[a],l=u.length,c=0;c<l;++c)if(h=u[c]){for(var f,_=t.call(h,h.__data__,c,u),p=Pi(h,e),d=0,m=_.length;d<m;++d)(f=_[d])&&El(f,n,e,d,_,p);r.push(_),s.push(h)}return new Ki(r,s,n,e)},ql=xi.prototype.constructor,Vl=function(){return new ql(this._groups,this._parents)},Gl=function(t,n,e){var i="transform"==(t+="")?Aa:zl;return null==n?this.styleTween(t,Wi(t,i)).on("end.style."+t,qi(t)):this.styleTween(t,"function"==typeof n?Gi(t,i,Di(this,"style."+t,n)):Vi(t,i,n),e)},Yl=function(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,Yi(t,n,null==e?"":e))},Xl=function(t){return this.tween("text","function"==typeof t?Ji(Di(this,"text",t)):Xi(null==t?"":t+""))},Jl=function(){for(var t=this._name,n=this._id,e=Qi(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s,a=i[r],h=a.length,u=0;u<h;++u)if(s=a[u]){var l=Pi(s,n);El(s,t,e,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ki(i,this._parents,t,e)},Kl=0,$l=xi.prototype;Ki.prototype=$i.prototype={constructor:Ki,select:Hl,selectAll:Wl,filter:Zl,merge:Rl,selection:Vl,transition:Jl,call:$l.call,nodes:$l.nodes,node:$l.node,size:$l.size,empty:$l.empty,each:$l.each,on:jl,attr:Al,attrTween:Nl,style:Gl,styleTween:Yl,text:Xl,remove:Fl,tween:Ul,delay:Bl,duration:Ol,ease:Il};var Ql={time:null,delay:0,duration:250,ease:a},tc=function(t){var n,e;t instanceof Ki?(n=t._id,t=t._name):(n=Qi(),(e=Ql).time=Ht(),t=null==t?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s,a=i[r],h=a.length,u=0;u<h;++u)(s=a[u])&&El(s,t,n,u,a,e||to(s,n));return new Ki(i,this._parents,t,n)};xi.prototype.interrupt=kl,xi.prototype.transition=tc;var nc=Array.prototype.slice,ec=function(t){return t},ic=1,oc=2,rc=3,sc=4,ac=1e-6,hc=function(t){var n,e,i,o,r=this,s=[r];do for(n=s.reverse(),s=[];r=n.pop();)if(t(r),e=r.children)for(i=0,o=e.length;i<o;++i)s.push(e[i]);while(s.length);return this},uc=function(t){for(var n,e,i=this,o=[i];i=o.pop();)if(t(i),n=i.children)for(e=n.length-1;e>=0;--e)o.push(n[e]);return this},lc=function(t){for(var n,e,i,o=this,r=[o],s=[];o=r.pop();)if(s.push(o),n=o.children)for(e=0,i=n.length;e<i;++e)r.push(n[e]);for(;o=s.pop();)t(o);return this},cc=function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,i=n.children,o=i&&i.length;--o>=0;)e+=i[o].value;n.value=e})},fc=function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},_c=function(t){for(var n=this,e=ho(n,t),i=[n];n!==e;)n=n.parent,i.push(n);for(var o=i.length;t!==e;)i.splice(o,0,t),t=t.parent;return i},pc=function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},dc=function(){var t=[];return this.each(function(n){t.push(n)}),t},mc=function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},gc=function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n};po.prototype=uo.prototype={constructor:po,each:hc,eachAfter:lc,eachBefore:uc,sum:cc,sort:fc,path:_c,ancestors:pc,descendants:dc,leaves:mc,links:gc,copy:lo};var vc=function(t,n,e,i,o){for(var r,s=t.children,a=-1,h=s.length,u=t.value&&(i-n)/t.value;++a<h;)r=s[a],r.y0=e,r.y1=o,r.x0=n,r.x1=n+=r.value*u};mo.prototype=Object.create(po.prototype);var yc=function(t,n,e,i,o){for(var r,s=t.children,a=-1,h=s.length,u=t.value&&(o-e)/t.value;++a<h;)r=s[a],r.x0=n,r.x1=i,r.y0=e,r.y1=e+=r.value*u},xc=(1+Math.sqrt(5))/2;(function t(n){function e(t,e,i,o,r){go(n,t,e,i,o,r)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e})(xc);!function t(n){function e(t,e,i,o,r){if((s=t._squarify)&&s.ratio===n)for(var s,a,h,u,l,c=-1,f=s.length,_=t.value;++c<f;){for(a=s[c],h=a.children,u=a.value=0,l=h.length;u<l;++u)a.value+=h[u].value;a.dice?vc(a,e,i,o,i+=(r-i)*a.value/_):yc(a,e,i,e+=(o-e)*a.value/_,r),_-=a.value}else t._squarify=s=go(n,t,e,i,o,r),s.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(xc);var wc=(Math.PI*(3-Math.sqrt(5)),function(){ku.preventDefault(),ku.stopImmediatePropagation()}),bc=function(t){var n=t.document.documentElement,e=vl(t).on("dragstart.drag",wc,!0);"onselectstart"in n?e.on("selectstart.drag",wc,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};yo.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};xo.prototype={constructor:xo,insert:function(t,n){var e,i,o;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Mo(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)i=e.U,e===i.L?(o=i.R,o&&o.C?(e.C=o.C=!1,i.C=!0,t=i):(t===e.R&&(bo(this,e),t=e,e=t.U),e.C=!1,i.C=!0,Po(this,i))):(o=i.L,o&&o.C?(e.C=o.C=!1,i.C=!0,t=i):(t===e.L&&(Po(this,e),t=e,e=t.U),e.C=!1,i.C=!0,bo(this,i))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,i,o=t.U,r=t.L,s=t.R;if(e=r?s?Mo(s):r:s,o?o.L===t?o.L=e:o.R=e:this._=e,r&&s?(i=e.C,e.C=t.C,e.L=r,r.U=e,e!==s?(o=e.U,e.U=t.U,t=e.R,o.L=t,e.R=s,s.U=e):(e.U=o,o=e,t=e.R)):(i=t.C,t=e),t&&(t.U=o),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if(n=o.R,n.C&&(n.C=!1,o.C=!0,bo(this,o),n=o.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Po(this,n),n=o.R),n.C=o.C,o.C=n.R.C=!1,bo(this,o),t=this._;break}}else if(n=o.L,n.C&&(n.C=!1,o.C=!0,Po(this,o),n=o.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,bo(this,n),n=o.L),n.C=o.C,o.C=n.L.C=!1,Po(this,o),t=this._;break}n.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}};var Pc,Mc,Lc,Tc,Dc,Cc=[],Ec=[],Sc=1e-6,kc=1e-12;Xo.prototype={constructor:Xo,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return zo(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,i){for(var o,r=e.site,s=e.halfedges,a=-1,h=s.length,u=n[s[h-1]],l=u.left===r?u.right:u.left;++a<h;)o=l,u=n[s[a]],l=u.left===r?u.right:u.left,i<o.index&&i<l.index&&Go(r,o,l)<0&&t.push([r.data,o.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})}};var Uc=function(t){return function(){return t}};Ko.prototype={constructor:Ko,scale:function(t){return 1===t?this:new Ko(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ko(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zc=new Ko(1,0,0),Ac=function(){ku.preventDefault(),ku.stopImmediatePropagation()},Nc=function(){function t(t){t.on("wheel.zoom",h).on("mousedown.zoom",u).on("dblclick.zoom",l).on("touchstart.zoom",c).on("touchmove.zoom",f).on("touchend.zoom touchcancel.zoom",_).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",nr)}function n(t,n){return n=Math.max(v,Math.min(y,n)),n===t.k?t:new Ko(n,t.x,t.y)}function e(t,n,e){var i=n[0]-e[0]*t.k,o=n[1]-e[1]*t.k;return i===t.x&&o===t.y?t:new Ko(t.k,i,o)}function i(t,n){var e=Math.min(0,t.invertX(n[0][0])-x)||Math.max(0,t.invertX(n[1][0])-w),i=Math.min(0,t.invertY(n[0][1])-b)||Math.max(0,t.invertY(n[1][1])-P);return e||i?t.translate(e,i):t}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function r(t,n,e){t.on("start.zoom",function(){s(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){s(this,arguments).end()}).tween("zoom",function(){var t=this,i=arguments,r=s(t,i),a=g.apply(t,i),h=e||o(a),u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,c="function"==typeof n?n.apply(t,i):n,f=Ra(l.invert(h).concat(u/l.k),c.invert(h).concat(u/c.k));return function(t){if(1===t)t=c;else{var n=f(t),e=u/n[2];t=new Ko(e,h[0]-n[0]*e,h[1]-n[1]*e)}r.zoom(null,t)}})}function s(t,n){for(var e,i=0,o=L.length;i<o;++i)if((e=L[i]).that===t)return e;return new a(t,n)}function a(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=g.apply(t,n)}function h(){function t(){o.wheel=null,o.end()}if(m.apply(this,arguments)){var o=s(this,arguments),r=this.__zoom,a=Math.max(v,Math.min(y,r.k*Math.pow(2,-ku.deltaY*(ku.deltaMode?120:1)/500))),h=Bu(this);if(o.wheel)o.mouse[0][0]===h[0]&&o.mouse[0][1]===h[1]||(o.mouse[1]=r.invert(o.mouse[0]=h)),clearTimeout(o.wheel);else{if(r.k===a)return;o.mouse=[h,r.invert(h)],Sl(this),o.start()}Ac(),o.wheel=setTimeout(t,C),o.zoom("mouse",i(e(n(r,a),o.mouse[0],o.mouse[1]),o.extent))}}function u(){function t(){Ac(),o.moved=!0,o.zoom("mouse",i(e(o.that.__zoom,o.mouse[0]=Bu(o.that),o.mouse[1]),o.extent))}function n(){r.on("mousemove.zoom mouseup.zoom",null),vo(ku.view,o.moved),Ac(),o.end()}if(!d&&m.apply(this,arguments)){var o=s(this,arguments),r=vl(ku.view).on("mousemove.zoom",t,!0).on("mouseup.zoom",n,!0),a=Bu(this);bc(ku.view),$o(),o.mouse=[a,this.__zoom.invert(a)],Sl(this),o.start()}}function l(){if(m.apply(this,arguments)){var o=this.__zoom,s=Bu(this),a=o.invert(s),h=o.k*(ku.shiftKey?.5:2),u=i(e(n(o,h),s,a),g.apply(this,arguments));Ac(),M>0?vl(this).transition().duration(M).call(r,u,s):vl(this).call(t.transform,u)}}function c(){if(m.apply(this,arguments)){var t,n,e,i=s(this,arguments),o=ku.changedTouches,r=o.length;for($o(),t=0;t<r;++t)n=o[t],e=yl(this,o,n.identifier),e=[e,this.__zoom.invert(e),n.identifier],i.touch0?i.touch1||(i.touch1=e):i.touch0=e;return p&&(p=clearTimeout(p),!i.touch1)?(i.end(),l.apply(this,arguments)):void(ku.touches.length===r&&(p=setTimeout(function(){p=null},D),Sl(this),i.start()))}}function f(){var t,o,r,a,h=s(this,arguments),u=ku.changedTouches,l=u.length;for(Ac(),p&&(p=clearTimeout(p)),t=0;t<l;++t)o=u[t],r=yl(this,u,o.identifier),h.touch0&&h.touch0[2]===o.identifier?h.touch0[0]=r:h.touch1&&h.touch1[2]===o.identifier&&(h.touch1[0]=r);if(o=h.that.__zoom,h.touch1){var c=h.touch0[0],f=h.touch0[1],_=h.touch1[0],d=h.touch1[1],m=(m=_[0]-c[0])*m+(m=_[1]-c[1])*m,g=(g=d[0]-f[0])*g+(g=d[1]-f[1])*g;o=n(o,Math.sqrt(m/g)),r=[(c[0]+_[0])/2,(c[1]+_[1])/2],a=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!h.touch0)return;r=h.touch0[0],a=h.touch0[1]}h.zoom("touch",i(e(o,r,a),h.extent))}function _(){var t,n,e=s(this,arguments),i=ku.changedTouches,o=i.length;for($o(),d&&clearTimeout(d),d=setTimeout(function(){d=null},D),t=0;t<o;++t)n=i[t],e.touch0&&e.touch0[2]===n.identifier?delete e.touch0:e.touch1&&e.touch1[2]===n.identifier&&delete e.touch1;e.touch1&&!e.touch0&&(e.touch0=e.touch1,delete e.touch1),e.touch0||e.end()}var p,d,m=Qo,g=tr,v=0,y=1/0,x=-y,w=y,b=x,P=w,M=250,L=[],T=Ut("start","zoom","end"),D=500,C=150;return t.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",nr),t!==e?r(t,n):e.interrupt().each(function(){s(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},t.scaleBy=function(n,e){t.scaleTo(n,function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n})},t.scaleTo=function(r,s){t.transform(r,function(){var t=g.apply(this,arguments),r=this.__zoom,a=o(t),h=r.invert(a),u="function"==typeof s?s.apply(this,arguments):s;return i(e(n(r,u),a,h),t)})},t.translateBy=function(n,e,o){t.transform(n,function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof o?o.apply(this,arguments):o),g.apply(this,arguments))})},a.prototype={start:function(){return 1===++this.active&&(this.index=L.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0===--this.active&&(L.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(n){ze(new Jo(t,n,this.that.__zoom),T.apply,T,[n,this.that,this.args])}},t.filter=function(n){return arguments.length?(m="function"==typeof n?n:Uc(!!n),t):m},t.extent=function(n){return arguments.length?(g="function"==typeof n?n:Uc([[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]]),t):g},t.scaleExtent=function(n){return arguments.length?(v=+n[0],y=+n[1],t):[v,y]},t.translateExtent=function(n){return arguments.length?(x=+n[0][0],w=+n[1][0],b=+n[0][1],P=+n[1][1],t):[[x,b],[w,P]]},t.duration=function(n){return arguments.length?(M=+n,t):M},t.on=function(){var n=T.on.apply(T,arguments);return n===T?t:n},t},Bc=({name:"x",handles:["e","w"].map(er),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},{name:"y",handles:["n","s"].map(er),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},{name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(er),input:function(t){return t},output:function(t){return t}},Math.cos,Math.sin,Math.PI,Math.max,Array.prototype.slice,function(){return new ir});ir.prototype={constructor:ir,reset:function(){this.s=this.t=0},add:function(t){or(Oc,t,this.t),or(this,Oc.s,this.s),this.s?this.t+=Oc.t:this.s=Oc.t},valueOf:function(){return this.s}};var Oc=new ir,Ic=1e-6,Zc=Math.PI,Rc=Zc/2,jc=Zc/4,Fc=2*Zc,Hc=Zc/180,Wc=Math.abs,qc=Math.atan,Vc=Math.atan2,Gc=Math.cos,Yc=(Math.ceil,Math.exp),Xc=Math.log,Jc=(Math.pow,Math.sin),Kc=(Math.sign||function(t){return t>0?1:t<0?-1:0},Math.sqrt),$c=Math.tan;Bc(),Bc(),Bc();cr.invert=cr;var Qc=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:ar,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},tf=function(t,n){return Wc(t[0]-n[0])<Ic&&Wc(t[1]-n[1])<Ic},nf=function(t,n,e,i,o){var r,s,a=[],h=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,i=t[0],s=t[n];if(tf(i,s)){for(o.lineStart(),r=0;r<n;++r)o.point((i=t[r])[0],i[1]);return void o.lineEnd()}a.push(e=new fr(i,t,null,!0)),h.push(e.o=new fr(i,null,e,!1)),a.push(e=new fr(s,t,null,!1)),h.push(e.o=new fr(s,null,e,!0))}}),a.length){for(h.sort(n),_r(a),_r(h),r=0,s=h.length;r<s;++r)h[r].e=e=!e;for(var u,l,c=a[0];;){for(var f=c,_=!0;f.v;)if((f=f.n)===c)return;u=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(_)for(r=0,s=u.length;r<s;++r)o.point((l=u[r])[0],l[1]);else i(f.x,f.n.x,1,o);f=f.n}else{if(_)for(u=f.p.z,r=u.length-1;r>=0;--r)o.point((l=u[r])[0],l[1]);else i(f.x,f.p.x,-1,o);f=f.p}f=f.o,u=f.z,_=!_}while(!f.v);o.lineEnd()}}},ef=(Bc(),Bc(),Bc(),1/0),of=-ef;pr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Fc)}},result:ar},dr.prototype={_circle:mr(4.5),pointRadius:function(t){return this._circle=mr(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var rf=Bc(),sf=function(t,n){var e=n[0],i=n[1],o=[Jc(e),-Gc(e),0],r=0,s=0;rf.reset();for(var a=0,h=t.length;a<h;++a)if(l=(u=t[a]).length)for(var u,l,c=u[l-1],f=c[0],_=c[1]/2+jc,p=Jc(_),d=Gc(_),m=0;m<l;++m,f=v,p=x,d=w,c=g){var g=u[m],v=g[0],y=g[1]/2+jc,x=Jc(y),w=Gc(y),b=v-f,P=b>=0?1:-1,M=P*b,L=M>Zc,T=p*x;if(rf.add(Vc(T*P*Jc(M),d*w+T*Gc(M))),r+=L?b+P*Fc:b,L^f>=e^v>=e){var D=ur(hr(c),hr(g));lr(D);var C=ur(o,D);lr(C);var E=(L^b>=0?-1:1)*sr(C[2]);(i>E||i===E&&(D[0]||D[1]))&&(s+=L^b>=0?1:-1)}}return(r<-Ic||r<Ic&&rf<-Ic)^1&s},af=function(t,n,e,i){return function(o,r){function s(n,e){var i=o(n,e);t(n=i[0],e=i[1])&&r.point(n,e)}function a(t,n){var e=o(t,n);m.point(e[0],e[1])}function h(){w.point=a,m.lineStart()}function u(){w.point=s,m.lineEnd()}function l(t,n){d.push([t,n]);var e=o(t,n);y.point(e[0],e[1])}function c(){y.lineStart(),d=[]}function f(){l(d[0][0],d[0][1]),y.lineEnd();var t,n,e,i,o=y.clean(),s=v.result(),a=s.length;if(d.pop(),_.push(d),d=null,a)if(1&o){if(e=s[0],(n=e.length-1)>0){for(x||(r.polygonStart(),x=!0),r.lineStart(),t=0;t<n;++t)r.point((i=e[t])[0],i[1]);r.lineEnd()}}else a>1&&2&o&&s.push(s.pop().concat(s.shift())),p.push(s.filter(gr))}var _,p,d,m=n(r),g=o.invert(i[0],i[1]),v=Qc(),y=n(v),x=!1,w={point:s,lineStart:h,lineEnd:u,polygonStart:function(){w.point=l,w.lineStart=c,w.lineEnd=f,p=[],_=[]},polygonEnd:function(){w.point=s,w.lineStart=h,w.lineEnd=u,p=es(p);var t=sf(_,g);p.length?(x||(r.polygonStart(),x=!0),nf(p,vr,t,e,r)):t&&(x||(r.polygonStart(),x=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),x&&(r.polygonEnd(),x=!1),p=_=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};return w}};af(function(){return!0},yr,wr,[-Zc,-Rc]);Pr.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var hf=(Gc(30*Hc),br({point:function(t,n){this.stream.point(t*Hc,n*Hc)}}),Mr(function(t){return Kc(2/(1+t))}));hf.invert=Lr(function(t){return 2*sr(t/2)});var uf=Mr(function(t){return(t=rr(t))&&t/Jc(t)});uf.invert=Lr(function(t){return t}),Tr.invert=function(t,n){return[t,2*qc(Yc(n))-Rc]},Dr.invert=Dr,Cr.invert=Lr(qc),Er.invert=Lr(sr),Sr.invert=Lr(function(t){return 2*qc(t)}),kr.invert=function(t,n){return[-n,2*qc(Yc(t))-Rc]},function(t,n,e){function i(){var n=t.L;o.noConflict=function(){return t.L=n,this},t.L=o}var o={version:"1.0.1+ffcfcc1"};"object"==typeof module&&"object"==typeof module.exports?module.exports=o:"function"==typeof define&&define.amd&&define(o),"undefined"!=typeof t&&i(),o.Util={extend:function(t){var n,e,i,o;for(e=1,i=arguments.length;e<i;e++){o=arguments[e];for(n in o)t[n]=o[n]}return t},create:Object.create||function(){function t(){}return function(n){return t.prototype=n,new t}}(),bind:function(t,n){var e=Array.prototype.slice;if(t.bind)return t.bind.apply(t,e.call(arguments,1));var i=e.call(arguments,2);return function(){return t.apply(n,i.length?i.concat(e.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++o.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,n,e){var i,o,r,s;return s=function(){i=!1,o&&(r.apply(e,o),o=!1)},r=function(){i?o=arguments:(t.apply(e,arguments),setTimeout(s,n),i=!0)}},wrapNum:function(t,n,e){var i=n[1],o=n[0],r=i-o;return t===i&&e?t:((t-o)%r+r)%r+o},falseFn:function(){return!1},formatNum:function(t,n){var e=Math.pow(10,n||5);return Math.round(t*e)/e},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},setOptions:function(t,n){t.hasOwnProperty("options")||(t.options=t.options?o.Util.create(t.options):{});for(var e in n)t.options[e]=n[e];return t.options},getParamString:function(t,n,e){var i=[];for(var o in t)i.push(encodeURIComponent(e?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(n&&n.indexOf("?")!==-1?"&":"?")+i.join("&")},template:function(t,n){return t.replace(o.Util.templateRe,function(t,i){var o=n[i];if(o===e)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(n)),o})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,n){for(var e=0;e<t.length;e++)if(t[e]===n)return e;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function n(n){return t["webkit"+n]||t["moz"+n]||t["ms"+n]}function e(n){var e=+new Date,o=Math.max(0,16-(e-i));return i=e+o,t.setTimeout(n,o)}var i=0,r=t.requestAnimationFrame||n("RequestAnimationFrame")||e,s=t.cancelAnimationFrame||n("CancelAnimationFrame")||n("CancelRequestAnimationFrame")||function(n){t.clearTimeout(n)};o.Util.requestAnimFrame=function(n,i,s){return s&&r===e?void n.call(i):r.call(t,o.bind(n,i))},o.Util.cancelAnimFrame=function(n){n&&s.call(t,n)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},e=n.__super__=this.prototype,i=o.Util.create(e);i.constructor=n,n.prototype=i;for(var r in this)this.hasOwnProperty(r)&&"prototype"!==r&&(n[r]=this[r]);return t.statics&&(o.extend(n,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=o.Util.extend(o.Util.create(i.options),t.options)),o.extend(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){e.callInitHooks&&e.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,n=i._initHooks.length;t<n;t++)i._initHooks[t].call(this)}},n},o.Class.include=function(t){return o.extend(this.prototype,t),this},o.Class.mergeOptions=function(t){return o.extend(this.prototype.options,t),this},o.Class.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),e="function"==typeof t?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(e),this},o.Evented=o.Class.extend({on:function(t,n,e){if("object"==typeof t)for(var i in t)this._on(i,t[i],n);else{t=o.Util.splitWords(t);for(var r=0,s=t.length;r<s;r++)this._on(t[r],n,e)}return this},off:function(t,n,e){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],n);else{t=o.Util.splitWords(t);for(var r=0,s=t.length;r<s;r++)this._off(t[r],n,e)}else delete this._events;return this},_on:function(t,n,i){this._events=this._events||{};var o=this._events[t];o||(o=[],this._events[t]=o),i===this&&(i=e);for(var r={fn:n,ctx:i},s=o,a=0,h=s.length;a<h;a++)if(s[a].fn===n&&s[a].ctx===i)return;s.push(r),o.count++},_off:function(t,n,i){var r,s,a;if(this._events&&(r=this._events[t])){if(!n){for(s=0,a=r.length;s<a;s++)r[s].fn=o.Util.falseFn;return void delete this._events[t]}if(i===this&&(i=e),r)for(s=0,a=r.length;s<a;s++){var h=r[s];if(h.ctx===i&&h.fn===n)return h.fn=o.Util.falseFn,this._firingCount&&(this._events[t]=r=r.slice()),void r.splice(s,1)}}},fire:function(t,n,e){if(!this.listens(t,e))return this;var i=o.Util.extend({},n,{type:t,target:this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var h=r[s];h.fn.call(h.ctx||this,i)}this._firingCount--}}return e&&this._propagateEvent(i),this},listens:function(t,n){var e=this._events&&this._events[t];
if(e&&e.length)return!0;if(n)for(var i in this._eventParents)if(this._eventParents[i].listens(t,n))return!0;return!1},once:function(t,n,e){if("object"==typeof t){for(var i in t)this.once(i,t[i],n);return this}var r=o.bind(function(){this.off(t,n,e).off(t,r,e)},this);return this.on(t,n,e).on(t,r,e)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[o.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[o.stamp(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,o.extend({layer:t.target},t),!0)}});var r=o.Evented.prototype;r.addEventListener=r.on,r.removeEventListener=r.clearAllEventListeners=r.off,r.addOneTimeEventListener=r.once,r.fireEvent=r.fire,r.hasEventListeners=r.listens,o.Mixin={Events:r},function(){var e=navigator.userAgent.toLowerCase(),i=n.documentElement,r="ActiveXObject"in t,s=e.indexOf("webkit")!==-1,a=e.indexOf("phantom")!==-1,h=e.search("android [23]")!==-1,u=e.indexOf("chrome")!==-1,l=e.indexOf("gecko")!==-1&&!s&&!t.opera&&!r,c=0===navigator.platform.indexOf("Win"),f="undefined"!=typeof orientation||e.indexOf("mobile")!==-1,_=!t.PointerEvent&&t.MSPointerEvent,p=t.PointerEvent||_,d=r&&"transition"in i.style,m="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!h,g="MozPerspective"in i.style,v="OTransition"in i.style,y=!t.L_NO_TOUCH&&(p||"ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch);o.Browser={ie:r,ielt9:r&&!n.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in n),webkit:s,gecko:l,android:e.indexOf("android")!==-1,android23:h,chrome:u,safari:!u&&e.indexOf("safari")!==-1,win:c,ie3d:d,webkit3d:m,gecko3d:g,opera12:v,any3d:!t.L_DISABLE_3D&&(d||m||g)&&!v&&!a,mobile:f,mobileWebkit:f&&s,mobileWebkit3d:f&&m,mobileOpera:f&&t.opera,mobileGecko:f&&l,touch:!!y,msPointer:!!_,pointer:!!p,retina:(t.devicePixelRatio||t.screen.deviceXDPI/t.screen.logicalXDPI)>1}}(),o.Point=function(t,n,e){this.x=e?Math.round(t):t,this.y=e?Math.round(n):n},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new o.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new o.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=o.point(t);var n=t.x-this.x,e=t.y-this.y;return Math.sqrt(n*n+e*e)},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(t,n,i){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===e||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new o.Point(t.x,t.y):new o.Point(t,n,i)},o.Bounds=function(t,n){if(t)for(var e=n?[t,n]:t,i=0,o=e.length;i<o;i++)this.extend(e[i])},o.Bounds.prototype={extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,e;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(n=t.min,e=t.max):n=e=t,n.x>=this.min.x&&e.x<=this.max.x&&n.y>=this.min.y&&e.y<=this.max.y},intersects:function(t){t=o.bounds(t);var n=this.min,e=this.max,i=t.min,r=t.max,s=r.x>=n.x&&i.x<=e.x,a=r.y>=n.y&&i.y<=e.y;return s&&a},overlaps:function(t){t=o.bounds(t);var n=this.min,e=this.max,i=t.min,r=t.max,s=r.x>n.x&&i.x<e.x,a=r.y>n.y&&i.y<e.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},o.bounds=function(t,n){return!t||t instanceof o.Bounds?t:new o.Bounds(t,n)},o.Transformation=function(t,n,e,i){this._a=t,this._b=n,this._c=e,this._d=i},o.Transformation.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new o.Point((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?n.getElementById(t):t},getStyle:function(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&n.defaultView){var o=n.defaultView.getComputedStyle(t,null);i=o?o[e]:null}return"auto"===i?null:i},create:function(t,e,i){var o=n.createElement(t);return o.className=e||"",i&&i.appendChild(o),o},remove:function(t){var n=t.parentNode;n&&n.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var n=t.parentNode;n.insertBefore(t,n.firstChild)},hasClass:function(t,n){if(t.classList!==e)return t.classList.contains(n);var i=o.DomUtil.getClass(t);return i.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(i)},addClass:function(t,n){if(t.classList!==e)for(var i=o.Util.splitWords(n),r=0,s=i.length;r<s;r++)t.classList.add(i[r]);else if(!o.DomUtil.hasClass(t,n)){var a=o.DomUtil.getClass(t);o.DomUtil.setClass(t,(a?a+" ":"")+n)}},removeClass:function(t,n){t.classList!==e?t.classList.remove(n):o.DomUtil.setClass(t,o.Util.trim((" "+o.DomUtil.getClass(t)+" ").replace(" "+n+" "," ")))},setClass:function(t,n){t.className.baseVal===e?t.className=n:t.className.baseVal=n},getClass:function(t){return t.className.baseVal===e?t.className:t.className.baseVal},setOpacity:function(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&o.DomUtil._setOpacityIE(t,n)},_setOpacityIE:function(t,n){var e=!1,i="DXImageTransform.Microsoft.Alpha";try{e=t.filters.item(i)}catch(t){if(1===n)return}n=Math.round(100*n),e?(e.Enabled=100!==n,e.Opacity=n):t.style.filter+=" progid:"+i+"(opacity="+n+")"},testProp:function(t){for(var e=n.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},setTransform:function(t,n,e){var i=n||new o.Point(0,0);t.style[o.DomUtil.TRANSFORM]=(o.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(e?" scale("+e+")":"")},setPosition:function(t,n){t._leaflet_pos=n,o.Browser.any3d?o.DomUtil.setTransform(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")},getPosition:function(t){return t._leaflet_pos||new o.Point(0,0)}},function(){o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var e=o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(o.DomUtil.TRANSITION_END="webkitTransition"===e||"OTransition"===e?e+"End":"transitionend","onselectstart"in n)o.DomUtil.disableTextSelection=function(){o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault)},o.DomUtil.enableTextSelection=function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault)};else{var i=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.DomUtil.disableTextSelection=function(){if(i){var t=n.documentElement.style;this._userSelect=t[i],t[i]="none"}},o.DomUtil.enableTextSelection=function(){i&&(n.documentElement.style[i]=this._userSelect,delete this._userSelect)}}o.DomUtil.disableImageDrag=function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},o.DomUtil.enableImageDrag=function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)},o.DomUtil.preventOutline=function(n){for(;n.tabIndex===-1;)n=n.parentNode;n&&n.style&&(o.DomUtil.restoreOutline(),this._outlineElement=n,this._outlineStyle=n.style.outline,n.style.outline="none",o.DomEvent.on(t,"keydown",o.DomUtil.restoreOutline,this))},o.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,o.DomEvent.off(t,"keydown",o.DomUtil.restoreOutline,this))}}(),o.LatLng=function(t,n,i){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,i!==e&&(this.alt=+i)},o.LatLng.prototype={equals:function(t,n){if(!t)return!1;t=o.latLng(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(n===e?1e-9:n)},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return o.CRS.Earth.distance(this,o.latLng(t))},wrap:function(){return o.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,e=n/Math.cos(Math.PI/180*this.lat);return o.latLngBounds([this.lat-n,this.lng-e],[this.lat+n,this.lng+e])},clone:function(){return new o.LatLng(this.lat,this.lng,this.alt)}},o.latLng=function(t,n,i){return t instanceof o.LatLng?t:o.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new o.LatLng(t[0],t[1],t[2]):2===t.length?new o.LatLng(t[0],t[1]):null:t===e||null===t?t:"object"==typeof t&&"lat"in t?new o.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):n===e?null:new o.LatLng(t,n,i)},o.LatLngBounds=function(t,n){if(t)for(var e=n?[t,n]:t,i=0,o=e.length;i<o;i++)this.extend(e[i])},o.LatLngBounds.prototype={extend:function(t){var n,e,i=this._southWest,r=this._northEast;if(t instanceof o.LatLng)n=t,e=t;else{if(!(t instanceof o.LatLngBounds))return t?this.extend(o.latLng(t)||o.latLngBounds(t)):this;if(n=t._southWest,e=t._northEast,!n||!e)return this}return i||r?(i.lat=Math.min(n.lat,i.lat),i.lng=Math.min(n.lng,i.lng),r.lat=Math.max(e.lat,r.lat),r.lng=Math.max(e.lng,r.lng)):(this._southWest=new o.LatLng(n.lat,n.lng),this._northEast=new o.LatLng(e.lat,e.lng)),this},pad:function(t){var n=this._southWest,e=this._northEast,i=Math.abs(n.lat-e.lat)*t,r=Math.abs(n.lng-e.lng)*t;return new o.LatLngBounds(new o.LatLng(n.lat-i,n.lng-r),new o.LatLng(e.lat+i,e.lng+r))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var n,e,i=this._southWest,r=this._northEast;return t instanceof o.LatLngBounds?(n=t.getSouthWest(),e=t.getNorthEast()):n=e=t,n.lat>=i.lat&&e.lat<=r.lat&&n.lng>=i.lng&&e.lng<=r.lng},intersects:function(t){t=o.latLngBounds(t);var n=this._southWest,e=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),s=r.lat>=n.lat&&i.lat<=e.lat,a=r.lng>=n.lng&&i.lng<=e.lng;return s&&a},overlaps:function(t){t=o.latLngBounds(t);var n=this._southWest,e=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),s=r.lat>n.lat&&i.lat<e.lat,a=r.lng>n.lng&&i.lng<e.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},o.latLngBounds=function(t,n){return t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,n)},o.Projection={},o.Projection.LonLat={project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)},bounds:o.bounds([-180,-90],[180,90])},o.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,e=this.MAX_LATITUDE,i=Math.max(Math.min(e,t.lat),-e),r=Math.sin(i*n);return new o.Point(this.R*t.lng*n,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var n=180/Math.PI;return new o.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:function(){var t=6378137*Math.PI;return o.bounds([-t,-t],[t,t])}()},o.CRS={latLngToPoint:function(t,n){var e=this.projection.project(t),i=this.scale(n);return this.transformation._transform(e,i)},pointToLatLng:function(t,n){var e=this.scale(n),i=this.transformation.untransform(t,e);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,e=this.scale(t),i=this.transformation.transform(n.min,e),r=this.transformation.transform(n.max,e);return o.bounds(i,r)},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?o.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,e=this.wrapLat?o.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return o.latLng(e,n,i)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var e=n.lng-t.lng,i=n.lat-t.lat;return Math.sqrt(e*e+i*i)},infinite:!0}),o.CRS.Earth=o.extend({},o.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var e=Math.PI/180,i=t.lat*e,o=n.lat*e,r=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos((n.lng-t.lng)*e);return this.R*Math.acos(Math.min(r,1))}}),o.CRS.EPSG3857=o.extend({},o.CRS.Earth,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*o.Projection.SphericalMercator.R);return new o.Transformation(t,.5,-t,.5)}()}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS.Earth,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/180,1,-1/180,.5)}),o.Map=o.Evented.extend({options:{crs:o.CRS.EPSG3857,center:e,zoom:e,minZoom:e,maxZoom:e,layers:[],maxBounds:e,renderer:e,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=o.setOptions(this,n),this._initContainer(t),this._initLayout(),this._onResize=o.bind(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==e&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==e&&this.setView(o.latLng(n.center),n.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},setView:function(t,n){return n=n===e?this.getZoom():n,this._resetView(o.latLng(t),n),this},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(o.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(o.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,e){var i=this.getZoomScale(n),r=this.getSize().divideBy(2),s=t instanceof o.Point?t:this.latLngToContainerPoint(t),a=s.subtract(r).multiplyBy(1-1/i),h=this.containerPointToLatLng(r.add(a));return this.setView(h,n,{zoom:e})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var e=o.point(n.paddingTopLeft||n.padding||[0,0]),i=o.point(n.paddingBottomRight||n.padding||[0,0]),r=this.getBoundsZoom(t,!1,e.add(i));r="number"==typeof n.maxZoom?Math.min(n.maxZoom,r):r;var s=i.subtract(e).divideBy(2),a=this.project(t.getSouthWest(),r),h=this.project(t.getNorthEast(),r),u=this.unproject(a.add(h).divideBy(2).add(s),r);return{center:u,zoom:r}},fitBounds:function(t,n){if(t=o.latLngBounds(t),!t.isValid())throw new Error("Bounds are not valid.");var e=this._getBoundsCenterZoom(t,n);return this.setView(e.center,e.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=o.latLngBounds(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var e=this.getCenter(),i=this._limitCenter(e,this._zoom,o.latLngBounds(t));return e.equals(i)||this.panTo(i,n),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var e=this.getSize(),i=n.divideBy(2).round(),r=e.divideBy(2).round(),s=i.subtract(r);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:e})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},addHandler:function(t,n){if(!n)return this;var e=this[t]=new n(this);return this._handlers.push(e),this.options[t]&&e.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=e,this._containerId=e}o.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var t in this._layers)this._layers[t].remove();return this},createPane:function(t,n){var e="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=o.DomUtil.create("div",e,n||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),n=this.unproject(t.getBottomLeft()),e=this.unproject(t.getTopRight());return new o.LatLngBounds(n,e)},getMinZoom:function(){return this.options.minZoom===e?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===e?this._layersMaxZoom===e?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,e){t=o.latLngBounds(t),e=o.point(e||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),s=this.getMaxZoom(),a=t.getNorthWest(),h=t.getSouthEast(),u=this.getSize().subtract(e),l=this.project(h,i).subtract(this.project(a,i)),c=o.Browser.any3d?this.options.zoomSnap:1,f=Math.min(u.x/l.x,u.y/l.y);return i=this.getScaleZoom(f,i),c&&(i=Math.round(i/(c/100))*(c/100),i=n?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(s,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var e=this._getTopLeftPoint(t,n);return new o.Bounds(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===e?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var i=this.options.crs;return n=n===e?this._zoom:n,i.scale(t)/i.scale(n)},getScaleZoom:function(t,n){var i=this.options.crs;n=n===e?this._zoom:n;var o=i.zoom(t*i.scale(n));return isNaN(o)?1/0:o},project:function(t,n){return n=n===e?this._zoom:n,this.options.crs.latLngToPoint(o.latLng(t),n)},unproject:function(t,n){return n=n===e?this._zoom:n,this.options.crs.pointToLatLng(o.point(t),n)},layerPointToLatLng:function(t){var n=o.point(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){var n=this.project(o.latLng(t))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(o.latLng(t))},distance:function(t,n){return this.options.crs.distance(o.latLng(t),o.latLng(n))},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=o.DomUtil.get(t);if(!n)throw new Error("Map container not found.");if(n._leaflet_id)throw new Error("Map container is already initialized.");o.DomEvent.addListener(n,"scroll",this._onScroll,this),this._containerId=o.Util.stamp(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&o.Browser.any3d,o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(o.Browser.ielt9?" leaflet-oldie":"")+(o.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=o.DomUtil.getStyle(t,"position");"absolute"!==n&&"relative"!==n&&"fixed"!==n&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),o.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n){o.DomUtil.setPosition(this._mapPane,new o.Point(0,0));var e=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var i=this._zoom!==n;this._moveStart(i)._move(t,n)._moveEnd(i),this.fire("viewreset"),e&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,n,i){n===e&&(n=this._zoom);var o=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(o||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return o.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){if(o.DomEvent){this._targets={},this._targets[o.stamp(this._container)]=this;var e=n?"off":"on";o.DomEvent[e](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&o.DomEvent[e](t,"resize",this._onResize,this),o.Browser.any3d&&this.options.transform3DLimit&&this[e]("moveend",this._onMoveEnd)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var e,i=[],r="mouseout"===n||"mouseover"===n,s=t.target||t.srcElement,a=!1;s;){if(e=this._targets[o.stamp(s)],e&&("click"===n||"preclick"===n)&&!t._simulated&&this._draggableMoved(e)){a=!0;break}if(e&&e.listens(n,!0)){if(r&&!o.DomEvent._isExternalTarget(s,t))break;if(i.push(e),r)break}if(s===this._container)break;s=s.parentNode}return i.length||a||r||!o.DomEvent._isExternalTarget(s,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var n="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===n&&o.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,n)}},_fireDOMEvent:function(t,n,e){if("click"===t.type){var i=o.Util.extend({},t);i.type="preclick",this._fireDOMEvent(i,i.type,e)}if(!t._stopped&&(e=(e||[]).concat(this._findEventTargets(t,n)),e.length)){var r=e[0];"contextmenu"===n&&r.listens(n,!0)&&o.DomEvent.preventDefault(t);var s={originalEvent:t};if("keypress"!==t.type){var a=r instanceof o.Marker;s.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?r.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var h=0;h<e.length;h++)if(e[h].fire(n,s,!0),s.originalEvent._stopped||e[h].options.nonBubblingEvents&&o.Util.indexOf(e[h].options.nonBubblingEvents,n)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)||new o.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){var i=t&&n!==e?this._getNewPixelOrigin(t,n):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var e=this.getSize()._divideBy(2);return this.project(t,n)._subtract(e)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,e){var i=this._getNewPixelOrigin(e,n);return this.project(t,n)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,e){if(!e)return t;var i=this.project(t,n),r=this.getSize().divideBy(2),s=new o.Bounds(i.subtract(r),i.add(r)),a=this._getBoundsOffset(s,e,n);return a.round().equals([0,0])?t:this.unproject(i.add(a),n)},_limitOffset:function(t,n){if(!n)return t;var e=this.getPixelBounds(),i=new o.Bounds(e.min.add(t),e.max.add(t));return t.add(this._getBoundsOffset(i,n))},_getBoundsOffset:function(t,n,e){var i=o.bounds(this.project(n.getNorthEast(),e),this.project(n.getSouthWest(),e)),r=i.min.subtract(t.min),s=i.max.subtract(t.max),a=this._rebound(r.x,-s.x),h=this._rebound(r.y,-s.y);return new o.Point(a,h)},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),e=this.getMaxZoom(),i=o.Browser.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(n,Math.min(e,t))}}),o.map=function(t,n){return new o.Map(t,n)},o.Layer=o.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[o.stamp(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[o.stamp(t)],this},_layerAdd:function(t){var n=t.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var e=this.getEvents();n.on(e,this),this.once("remove",function(){n.off(e,this)},this)}this.onAdd(n),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),n.fire("layeradd",{layer:this})}}}),o.Map.include({addLayer:function(t){var n=o.stamp(t);return this._layers[n]?this:(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var n=o.stamp(t);return this._layers[n]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&o.stamp(t)in this._layers},eachLayer:function(t,n){for(var e in this._layers)t.call(n,this._layers[e]);return this},_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var n=0,e=t.length;n<e;n++)this.addLayer(t[n])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[o.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=o.stamp(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-(1/0),i=this._getZoomSpan();for(var o in this._zoomBoundLayers){var r=this._zoomBoundLayers[o].options;t=r.minZoom===e?t:Math.min(t,r.minZoom),n=r.maxZoom===e?n:Math.max(n,r.maxZoom)}this._layersMaxZoom=n===-(1/0)?e:n,this._layersMinZoom=t===1/0?e:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),o.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:o.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var n=Math.PI/180,e=this.R,i=t.lat*n,r=this.R_MINOR/e,s=Math.sqrt(1-r*r),a=s*Math.sin(i),h=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),s/2);return i=-e*Math.log(Math.max(h,1e-10)),new o.Point(t.lng*n*e,i)},unproject:function(t){for(var n,e=180/Math.PI,i=this.R,r=this.R_MINOR/i,s=Math.sqrt(1-r*r),a=Math.exp(-t.y/i),h=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)n=s*Math.sin(h),
n=Math.pow((1-n)/(1+n),s/2),l=Math.PI/2-2*Math.atan(a*n)-h,h+=l;return new o.LatLng(h*e,t.x*e/i)}},o.CRS.EPSG3395=o.extend({},o.CRS.Earth,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*o.Projection.Mercator.R);return new o.Transformation(t,.5,-t,.5)}()}),o.GridLayer=o.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:o.Browser.mobile,updateWhenZooming:!0,updateInterval:200,attribution:null,zIndex:1,bounds:null,minZoom:0,maxZoom:e,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){o.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),o.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(o.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(o.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return n.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof o.Point?t:new o.Point(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==e&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n,e=this.getPane().children,i=-t(-(1/0),1/0),o=0,r=e.length;o<r;o++)n=e[o].style.zIndex,e[o]!==this._container&&n&&(i=t(i,+n));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!o.Browser.ielt9){o.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,n=!1,e=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var s=Math.min(1,(t-r.loaded)/200);o.DomUtil.setOpacity(r.el,s),s<1?n=!0:(r.active&&(e=!0),r.active=!0)}}e&&!this._noPrune&&this._pruneTiles(),n&&(o.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=o.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=o.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(t===e)return e;for(var i in this._levels)this._levels[i].el.children.length||i===t?this._levels[i].el.style.zIndex=n-Math.abs(t-i):(o.DomUtil.remove(this._levels[i].el),this._removeTilesAtZoom(i),delete this._levels[i]);var r=this._levels[t],s=this._map;return r||(r=this._levels[t]={},r.el=o.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=n,r.origin=s.project(s.unproject(s.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,s.getCenter(),s.getZoom()),o.Util.falseFn(r.el.offsetWidth)),this._level=r,r},_pruneTiles:function(){if(this._map){var t,n,e=this._map.getZoom();if(e>this.options.maxZoom||e<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)n=this._tiles[t],n.retain=n.current;for(t in this._tiles)if(n=this._tiles[t],n.current&&!n.active){var i=n.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)o.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,n,e,i){var r=Math.floor(t/2),s=Math.floor(n/2),a=e-1,h=new o.Point(+r,+s);h.z=+a;var u=this._tileCoordsToKey(h),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>i&&this._retainParent(r,s,a,i))},_retainChildren:function(t,n,e,i){for(var r=2*t;r<2*t+2;r++)for(var s=2*n;s<2*n+2;s++){var a=new o.Point(r,s);a.z=e+1;var h=this._tileCoordsToKey(a),u=this._tiles[h];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),e+1<i&&this._retainChildren(r,s,e+1,i))}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,n,i,o){var r=Math.round(n);(this.options.maxZoom!==e&&r>this.options.maxZoom||this.options.minZoom!==e&&r<this.options.minZoom)&&(r=e);var s=this.options.updateWhenZooming&&r!==this._tileZoom;o&&!s||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),r!==e&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var e in this._levels)this._setZoomTransform(this._levels[e],t,n)},_setZoomTransform:function(t,n,e){var i=this._map.getZoomScale(e,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(n,e)).round();o.Browser.any3d?o.DomUtil.setTransform(t.el,r,i):o.DomUtil.setPosition(t.el,r)},_resetGrid:function(){var t=this._map,n=t.options.crs,e=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],i).x/e.x),Math.ceil(t.project([0,n.wrapLng[1]],i).x/e.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],i).y/e.x),Math.ceil(t.project([n.wrapLat[1],0],i).y/e.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var n=this._map,e=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),i=n.getZoomScale(e,this._tileZoom),r=n.project(t,this._tileZoom).floor(),s=n.getSize().divideBy(2*i);return new o.Bounds(r.subtract(s),r.add(s))},_update:function(t){var i=this._map;if(i){var r=i.getZoom();if(t===e&&(t=i.getCenter()),this._tileZoom!==e){var s=this._getTiledPixelBounds(t),a=this._pxBoundsToTileRange(s),h=a.getCenter(),u=[],l=this.options.keepBuffer,c=new o.Bounds(a.getBottomLeft().subtract([l,-l]),a.getTopRight().add([l,-l]));for(var f in this._tiles){var _=this._tiles[f].coords;_.z===this._tileZoom&&c.contains(o.point(_.x,_.y))||(this._tiles[f].current=!1)}if(Math.abs(r-this._tileZoom)>1)return void this._setView(t,r);for(var p=a.min.y;p<=a.max.y;p++)for(var d=a.min.x;d<=a.max.x;d++){var m=new o.Point(d,p);if(m.z=this._tileZoom,this._isValidTile(m)){var g=this._tiles[this._tileCoordsToKey(m)];g?g.current=!0:u.push(m)}}if(u.sort(function(t,n){return t.distanceTo(h)-n.distanceTo(h)}),0!==u.length){this._loading||(this._loading=!0,this.fire("loading"));var v=n.createDocumentFragment();for(d=0;d<u.length;d++)this._addTile(u[d],v);this._level.el.appendChild(v)}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var e=this._globalTileRange;if(!n.wrapLng&&(t.x<e.min.x||t.x>e.max.x)||!n.wrapLat&&(t.y<e.min.y||t.y>e.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return o.latLngBounds(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var n=this._map,e=this.getTileSize(),i=t.scaleBy(e),r=i.add(e),s=n.unproject(i,t.z),a=n.unproject(r,t.z);return this.options.noWrap||(s=n.wrapLatLng(s),a=n.wrapLatLng(a)),new o.LatLngBounds(s,a)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),e=new o.Point(+n[0],+n[1]);return e.z=+n[2],e},_removeTile:function(t){var n=this._tiles[t];n&&(o.DomUtil.remove(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){o.DomUtil.addClass(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=o.Util.falseFn,t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity<1&&o.DomUtil.setOpacity(t,this.options.opacity),o.Browser.android&&!o.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,n){var e=this._getTilePos(t),i=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),o.bind(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&o.Util.requestAnimFrame(o.bind(this._tileReady,this,t,null,r)),o.DomUtil.setPosition(r,e),this._tiles[i]={el:r,coords:t,current:!0},n.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,n,e){if(this._map){n&&this.fire("tileerror",{error:n,tile:e,coords:t});var i=this._tileCoordsToKey(t);e=this._tiles[i],e&&(e.loaded=+new Date,this._map._fadeAnimated?(o.DomUtil.setOpacity(e.el,0),o.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=o.Util.requestAnimFrame(this._updateOpacity,this)):(e.active=!0,this._pruneTiles()),n||(o.DomUtil.addClass(e.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:e.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),o.Browser.ielt9||!this._map._fadeAnimated?o.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(o.bind(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new o.Point(this._wrapX?o.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?o.Util.wrapNum(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new o.Bounds(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),o.gridLayer=function(t){return new o.GridLayer(t)},o.TileLayer=o.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,n){this._url=t,n=o.setOptions(this,n),n.detectRetina&&o.Browser.retina&&n.maxZoom>0&&(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom++):(n.zoomOffset++,n.maxZoom--),n.minZoom=Math.max(0,n.minZoom)),"string"==typeof n.subdomains&&(n.subdomains=n.subdomains.split("")),o.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url=t,n||this.redraw(),this},createTile:function(t,e){var i=n.createElement("img");return o.DomEvent.on(i,"load",o.bind(this._tileOnLoad,this,e,i)),o.DomEvent.on(i,"error",o.bind(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var n={r:o.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var e=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=e),n["-y"]=e}return o.Util.template(this._url,o.extend(n,this.options))},_tileOnLoad:function(t,n){o.Browser.ielt9?setTimeout(o.bind(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,e){var i=this.options.errorTileUrl;i&&(n.src=i),t(e,n)},getTileSize:function(){var t=this._map,n=o.GridLayer.prototype.getTileSize.call(this),e=this._tileZoom+this.options.zoomOffset,i=this.options.maxNativeZoom;return null!==i&&e>i?n.divideBy(t.getZoomScale(i,e)).round():n},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this.options,n=this._tileZoom;return t.zoomReverse&&(n=t.maxZoom-n),n+=t.zoomOffset,null!==t.maxNativeZoom?Math.min(n,t.maxNativeZoom):n},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=o.Util.falseFn,n.onerror=o.Util.falseFn,n.complete||(n.src=o.Util.emptyImageUrl,o.DomUtil.remove(n)))}}),o.tileLayer=function(t,n){return new o.TileLayer(t,n)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var e=o.extend({},this.defaultWmsParams);for(var i in n)i in this.options||(e[i]=n[i]);n=o.setOptions(this,n),e.width=e.height=n.tileSize*(n.detectRetina&&o.Browser.retina?2:1),this.wmsParams=e},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToBounds(t),e=this._crs.project(n.getNorthWest()),i=this._crs.project(n.getSouthEast()),r=(this._wmsVersion>=1.3&&this._crs===o.CRS.EPSG4326?[i.y,e.x,e.y,i.x]:[e.x,i.y,i.x,e.y]).join(","),s=o.TileLayer.prototype.getTileUrl.call(this,t);return s+o.Util.getParamString(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,n){return o.extend(this.wmsParams,t),n||this.redraw(),this}}),o.tileLayer.wms=function(t,n){return new o.TileLayer.WMS(t,n)},o.ImageOverlay=o.Layer.extend({options:{opacity:1,alt:"",interactive:!1,attribution:null,crossOrigin:!1},initialize:function(t,n,e){this._url=t,this._bounds=o.latLngBounds(n),o.setOptions(this,e)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(o.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){o.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&o.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&o.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=o.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=o.Util.falseFn,t.onmousemove=o.Util.falseFn,t.onload=o.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),e=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),t.zoom,t.center);o.DomUtil.setTransform(this._image,e,n)},_reset:function(){var t=this._image,n=new o.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),e=n.getSize();o.DomUtil.setPosition(t,n.min),t.style.width=e.x+"px",t.style.height=e.y+"px"},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,n,e){return new o.ImageOverlay(t,n,e)},o.Icon=o.Class.extend({initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var e=this._getIconUrl(t);if(!e){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(e,n&&"IMG"===n.tagName?n:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,n){var e=this.options,i=e[n+"Size"];"number"==typeof i&&(i=[i,i]);var r=o.point(i),s=o.point("shadow"===n&&e.shadowAnchor||e.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(e.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||n.createElement("img"),e.src=t,e},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return o.Icon.Default.imagePath||(o.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||o.Icon.Default.imagePath)+o.Icon.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=o.DomUtil.create("div","leaflet-default-icon-path",n.body),e=o.DomUtil.getStyle(t,"background-image")||o.DomUtil.getStyle(t,"backgroundImage");return n.body.removeChild(t),0===e.indexOf("url")?e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}}),o.Marker=o.Layer.extend({options:{icon:new o.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,n){o.setOptions(this,n),this._latlng=o.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=o.latLng(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),e=t.icon.createIcon(this._icon),i=!1;e!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(e.title=t.title),t.alt&&(e.alt=t.alt)),o.DomUtil.addClass(e,n),t.keyboard&&(e.tabIndex="0"),this._icon=e,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),s=!1;r!==this._shadow&&(this._removeShadow(),s=!0),r&&o.DomUtil.addClass(r,n),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&s&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),o.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&o.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(o.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),o.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new o.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;o.DomUtil.setOpacity(this._icon,t),this._shadow&&o.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,n){return new o.Marker(t,n)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:n.createElement("div"),i=this.options;if(e.innerHTML=i.html!==!1?i.html:"",i.bgPos){var r=o.point(i.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.DivOverlay=o.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,n){o.setOptions(this,t),this._source=n},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&o.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&o.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(o.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(o.bind(o.DomUtil.remove,o.DomUtil,this._container),200)):o.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&o.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&o.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,n="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof n)t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=o.point(this.options.offset),e=this._getAnchor();this._zoomAnimated?o.DomUtil.setPosition(this._container,t.add(e)):n=n.add(t).add(e);var i=this._containerBottom=-n.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),o.Popup=o.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){o.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof o.Path||this._source.on("preclick",o.DomEvent.stopPropagation))},onRemove:function(t){o.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof o.Path||this._source.off("preclick",o.DomEvent.stopPropagation))},getEvents:function(){var t=o.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",n=this._container=o.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var e=this._closeButton=o.DomUtil.create("a",t+"-close-button",n);e.href="#close",e.innerHTML="&#215;",o.DomEvent.on(e,"click",this._onCloseButtonClick,this)}var i=this._wrapper=o.DomUtil.create("div",t+"-content-wrapper",n);this._contentNode=o.DomUtil.create("div",t+"-content",i),o.DomEvent.disableClickPropagation(i).disableScrollPropagation(this._contentNode).on(i,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",t+"-tip-container",n),this._tip=o.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var e=t.offsetWidth;e=Math.min(e,this.options.maxWidth),e=Math.max(e,this.options.minWidth),n.width=e+1+"px",n.whiteSpace="",n.height="";var i=t.offsetHeight,r=this.options.maxHeight,s="leaflet-popup-scrolled";r&&i>r?(n.height=r+"px",o.DomUtil.addClass(t,s)):o.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),e=this._getAnchor();o.DomUtil.setPosition(this._container,n.add(e))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,n=parseInt(o.DomUtil.getStyle(this._container,"marginBottom"),10)||0,e=this._container.offsetHeight+n,i=this._containerWidth,r=new o.Point(this._containerLeft,-e-this._containerBottom);r._add(o.DomUtil.getPosition(this._container));var s=t.layerPointToContainerPoint(r),a=o.point(this.options.autoPanPadding),h=o.point(this.options.autoPanPaddingTopLeft||a),u=o.point(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),c=0,f=0;s.x+i+u.x>l.x&&(c=s.x+i-l.x+u.x),s.x-c-h.x<0&&(c=s.x-h.x),s.y+e+u.y>l.y&&(f=s.y+e-l.y+u.y),s.y-f-h.y<0&&(f=s.y-h.y),(c||f)&&t.fire("autopanstart").panBy([c,f])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)},_getAnchor:function(){return o.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),o.popup=function(t,n){return new o.Popup(t,n)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Map.include({openPopup:function(t,n,e){return t instanceof o.Popup||(t=new o.Popup(e).setContent(t)),n&&t.setLatLng(n),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),o.Layer.include({bindPopup:function(t,n){return t instanceof o.Popup?(o.setOptions(t,n),this._popup=t,t._source=this):(this._popup&&!n||(this._popup=new o.Popup(n,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,n){if(t instanceof o.Layer||(n=t,t=this),t instanceof o.FeatureGroup)for(var e in this._layers){t=this._layers[e];break}return n||(n=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,n)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var n=t.layer||t.target;if(this._popup&&this._map)return o.DomEvent.stop(t),n instanceof o.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===n?this.closePopup():this.openPopup(n,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),o.Tooltip=o.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){o.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){o.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=o.DivOverlay.prototype.getEvents.call(this);return o.Browser.touch&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",n=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=o.DomUtil.create("div",n)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n=this._map,e=this._container,i=n.latLngToContainerPoint(n.getCenter()),r=n.layerPointToContainerPoint(t),s=this.options.direction,a=e.offsetWidth,h=e.offsetHeight,u=o.point(this.options.offset),l=this._getAnchor();"top"===s?t=t.add(o.point(-a/2+u.x,-h+u.y+l.y)):"bottom"===s?t=t.subtract(o.point(a/2-u.x,-u.y)):"center"===s?t=t.subtract(o.point(a/2+u.x,h/2-l.y+u.y)):"right"===s||"auto"===s&&r.x<i.x?(s="right",t=t.add([u.x+l.x,l.y-h/2+u.y])):(s="left",t=t.subtract(o.point(a+l.x-u.x,h/2-l.y-u.y))),o.DomUtil.removeClass(e,"leaflet-tooltip-right"),o.DomUtil.removeClass(e,"leaflet-tooltip-left"),o.DomUtil.removeClass(e,"leaflet-tooltip-top"),o.DomUtil.removeClass(e,"leaflet-tooltip-bottom"),o.DomUtil.addClass(e,"leaflet-tooltip-"+s),o.DomUtil.setPosition(e,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&o.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return o.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),o.tooltip=function(t,n){return new o.Tooltip(t,n)},o.Map.include({openTooltip:function(t,n,e){return t instanceof o.Tooltip||(t=new o.Tooltip(e).setContent(t)),n&&t.setLatLng(n),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),o.Layer.include({bindTooltip:function(t,n){return t instanceof o.Tooltip?(o.setOptions(t,n),
this._tooltip=t,t._source=this):(this._tooltip&&!n||(this._tooltip=o.tooltip(n,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var n=t?"off":"on",e={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?e.add=this._openTooltip:(e.mouseover=this._openTooltip,e.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(e.mousemove=this._moveTooltip),o.Browser.touch&&(e.click=this._openTooltip)),this[n](e),this._tooltipHandlersAdded=!t}},openTooltip:function(t,n){if(t instanceof o.Layer||(n=t,t=this),t instanceof o.FeatureGroup)for(var e in this._layers){t=this._layers[e];break}return n||(n=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,n),this._tooltip.options.interactive&&this._tooltip._container&&(o.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(o.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var n=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(n,this._tooltip.options.sticky?t.latlng:e)},_moveTooltip:function(t){var n,e,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(n=this._map.mouseEventToContainerPoint(t.originalEvent),e=this._map.containerPointToLayerPoint(n),i=this._map.layerPointToLatLng(e)),this._tooltip.setLatLng(i)}}),o.Marker.include({_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),o.LayerGroup=o.Layer.extend({initialize:function(t){this._layers={};var n,e;if(t)for(n=0,e=t.length;n<e;n++)this.addLayer(t[n])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var n,e,i=Array.prototype.slice.call(arguments,1);for(n in this._layers)e=this._layers[n],e[t]&&e[t].apply(e,i);return this},onAdd:function(t){for(var n in this._layers)t.addLayer(this._layers[n])},onRemove:function(t){for(var n in this._layers)t.removeLayer(this._layers[n])},eachLayer:function(t,n){for(var e in this._layers)t.call(n,this._layers[e]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var n in this._layers)t.push(this._layers[n]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o.stamp(t)}}),o.layerGroup=function(t){return new o.LayerGroup(t)},o.FeatureGroup=o.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),o.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),o.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new o.LatLngBounds;for(var n in this._layers){var e=this._layers[n];t.extend(e.getBounds?e.getBounds():e.getLatLng())}return t}}),o.featureGroup=function(t){return new o.FeatureGroup(t)},o.Renderer=o.Layer.extend({options:{padding:.1},initialize:function(t){o.setOptions(this,t),o.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&o.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){o.DomUtil.remove(this._container)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var e=this._map.getZoomScale(n,this._zoom),i=o.DomUtil.getPosition(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,n),a=this._map.project(t,n),h=a.subtract(s),u=r.multiplyBy(-e).add(i).add(r).subtract(h);o.Browser.any3d?o.DomUtil.setTransform(this._container,u,e):o.DomUtil.setPosition(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_update:function(){var t=this.options.padding,n=this._map.getSize(),e=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new o.Bounds(e,e.add(n.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),o.Map.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this.options.preferCanvas&&o.canvas()||o.svg()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if("overlayPane"===t||t===e)return!1;var n=this._paneRenderers[t];return n===e&&(n=o.SVG&&o.svg({pane:t})||o.Canvas&&o.canvas({pane:t}),this._paneRenderers[t]=n),n}}),o.Path=o.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this),this._renderer.on("update",this._update,this)},onRemove:function(){this._renderer._removePath(this),this._renderer.off("update",this._update,this)},getEvents:function(){return{zoomend:this._project,viewreset:this._reset}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return o.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(o.Browser.touch?10:0)}}),o.LineUtil={simplify:function(t,n){if(!n||!t.length)return t.slice();var e=n*n;return t=this._reducePoints(t,e),t=this._simplifyDP(t,e)},pointToSegmentDistance:function(t,n,e){return Math.sqrt(this._sqClosestPointOnSegment(t,n,e,!0))},closestPointOnSegment:function(t,n,e){return this._sqClosestPointOnSegment(t,n,e)},_simplifyDP:function(t,n){var i=t.length,o=typeof Uint8Array!=e+""?Uint8Array:Array,r=new o(i);r[0]=r[i-1]=1,this._simplifyDPStep(t,r,n,0,i-1);var s,a=[];for(s=0;s<i;s++)r[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,n,e,i,o){var r,s,a,h=0;for(s=i+1;s<=o-1;s++)a=this._sqClosestPointOnSegment(t[s],t[i],t[o],!0),a>h&&(r=s,h=a);h>e&&(n[r]=1,this._simplifyDPStep(t,n,e,i,r),this._simplifyDPStep(t,n,e,r,o))},_reducePoints:function(t,n){for(var e=[t[0]],i=1,o=0,r=t.length;i<r;i++)this._sqDist(t[i],t[o])>n&&(e.push(t[i]),o=i);return o<r-1&&e.push(t[r-1]),e},clipSegment:function(t,n,e,i,o){var r,s,a,h=i?this._lastCode:this._getBitCode(t,e),u=this._getBitCode(n,e);for(this._lastCode=u;;){if(!(h|u))return[t,n];if(h&u)return!1;r=h||u,s=this._getEdgeIntersection(t,n,r,e,o),a=this._getBitCode(s,e),r===h?(t=s,h=a):(n=s,u=a)}},_getEdgeIntersection:function(t,n,e,i,r){var s,a,h=n.x-t.x,u=n.y-t.y,l=i.min,c=i.max;return 8&e?(s=t.x+h*(c.y-t.y)/u,a=c.y):4&e?(s=t.x+h*(l.y-t.y)/u,a=l.y):2&e?(s=c.x,a=t.y+u*(c.x-t.x)/h):1&e&&(s=l.x,a=t.y+u*(l.x-t.x)/h),new o.Point(s,a,r)},_getBitCode:function(t,n){var e=0;return t.x<n.min.x?e|=1:t.x>n.max.x&&(e|=2),t.y<n.min.y?e|=4:t.y>n.max.y&&(e|=8),e},_sqDist:function(t,n){var e=n.x-t.x,i=n.y-t.y;return e*e+i*i},_sqClosestPointOnSegment:function(t,n,e,i){var r,s=n.x,a=n.y,h=e.x-s,u=e.y-a,l=h*h+u*u;return l>0&&(r=((t.x-s)*h+(t.y-a)*u)/l,r>1?(s=e.x,a=e.y):r>0&&(s+=h*r,a+=u*r)),h=t.x-s,u=t.y-a,i?h*h+u*u:new o.Point(s,a)}},o.Polyline=o.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){o.setOptions(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n,e,i=1/0,r=null,s=o.LineUtil._sqClosestPointOnSegment,a=0,h=this._parts.length;a<h;a++)for(var u=this._parts[a],l=1,c=u.length;l<c;l++){n=u[l-1],e=u[l];var f=s(t,n,e,!0);f<i&&(i=f,r=s(t,n,e))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,n,e,i,o,r,s,a=this._rings[0],h=a.length;if(!h)return null;for(t=0,n=0;t<h-1;t++)n+=a[t].distanceTo(a[t+1])/2;if(0===n)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<h-1;t++)if(o=a[t],r=a[t+1],e=o.distanceTo(r),i+=e,i>n)return s=(i-n)/e,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=o.latLng(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new o.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return o.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],e=o.Polyline._flat(t),i=0,r=t.length;i<r;i++)e?(n[i]=o.latLng(t[i]),this._bounds.extend(n[i])):n[i]=this._convertLatLngs(t[i]);return n},_project:function(){var t=new o.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var n=this._clickTolerance(),e=new o.Point(n,n);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(e),t.max._add(e),this._pxBounds=t)},_projectLatlngs:function(t,n,e){var i,r,s=t[0]instanceof o.LatLng,a=t.length;if(s){for(r=[],i=0;i<a;i++)r[i]=this._map.latLngToLayerPoint(t[i]),e.extend(r[i]);n.push(r)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],n,e)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var n,e,i,r,s,a,h,u=this._parts;for(n=0,i=0,r=this._rings.length;n<r;n++)for(h=this._rings[n],e=0,s=h.length;e<s-1;e++)a=o.LineUtil.clipSegment(h[e],h[e+1],t,e,!0),a&&(u[i]=u[i]||[],u[i].push(a[0]),a[1]===h[e+1]&&e!==s-2||(u[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,e=0,i=t.length;e<i;e++)t[e]=o.LineUtil.simplify(t[e],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),o.polyline=function(t,n){return new o.Polyline(t,n)},o.Polyline._flat=function(t){return!o.Util.isArray(t[0])||"object"!=typeof t[0][0]&&"undefined"!=typeof t[0][0]},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,n,e){var i,r,s,a,h,u,l,c,f,_=[1,4,2,8],p=o.LineUtil;for(r=0,l=t.length;r<l;r++)t[r]._code=p._getBitCode(t[r],n);for(a=0;a<4;a++){for(c=_[a],i=[],r=0,l=t.length,s=l-1;r<l;s=r++)h=t[r],u=t[s],h._code&c?u._code&c||(f=p._getEdgeIntersection(u,h,c,n,e),f._code=p._getBitCode(f,n),i.push(f)):(u._code&c&&(f=p._getEdgeIntersection(u,h,c,n,e),f._code=p._getBitCode(f,n),i.push(f)),i.push(h));t=i}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,n,e,i,o,r,s,a,h,u=this._rings[0],l=u.length;if(!l)return null;for(r=s=a=0,t=0,n=l-1;t<l;n=t++)e=u[t],i=u[n],o=e.y*i.x-i.y*e.x,s+=(e.x+i.x)*o,a+=(e.y+i.y)*o,r+=3*o;return h=0===r?u[0]:[s/r,a/r],this._map.layerPointToLatLng(h)},_convertLatLngs:function(t){var n=o.Polyline.prototype._convertLatLngs.call(this,t),e=n.length;return e>=2&&n[0]instanceof o.LatLng&&n[0].equals(n[e-1])&&n.pop(),n},_setLatLngs:function(t){o.Polyline.prototype._setLatLngs.call(this,t),o.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return o.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,e=new o.Point(n,n);if(t=new o.Bounds(t.min.subtract(e),t.max.add(e)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,r=0,s=this._rings.length;r<s;r++)i=o.PolyUtil.clipPolygon(this._rings[r],t,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),o.polygon=function(t,n){return new o.Polygon(t,n)},o.Rectangle=o.Polygon.extend({initialize:function(t,n){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),o.rectangle=function(t,n){return new o.Rectangle(t,n)},o.CircleMarker=o.Path.extend({options:{fill:!0,radius:10},initialize:function(t,n){o.setOptions(this,n),this._latlng=o.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return o.Path.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,e=this._clickTolerance(),i=[t+e,n+e];this._pxBounds=new o.Bounds(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),o.circleMarker=function(t,n){return new o.CircleMarker(t,n)},o.Circle=o.CircleMarker.extend({initialize:function(t,n,e){if("number"==typeof n&&(n=o.extend({},e,{radius:n})),o.setOptions(this,n),this._latlng=o.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new o.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:o.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,e=this._map,i=e.options.crs;if(i.distance===o.CRS.Earth.distance){var r=Math.PI/180,s=this._mRadius/o.CRS.Earth.R/r,a=e.project([n+s,t]),h=e.project([n-s,t]),u=a.add(h).divideBy(2),l=e.unproject(u).lat,c=Math.acos((Math.cos(s*r)-Math.sin(n*r)*Math.sin(l*r))/(Math.cos(n*r)*Math.cos(l*r)))/r;(isNaN(c)||0===c)&&(c=s/Math.cos(Math.PI/180*n)),this._point=u.subtract(e.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(u.x-e.project([l,t-c]).x),1),this._radiusY=Math.max(Math.round(u.y-a.y),1)}else{var f=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=e.latLngToLayerPoint(this._latlng),this._radius=this._point.x-e.latLngToLayerPoint(f).x}this._updateBounds()}}),o.circle=function(t,n,e){return new o.Circle(t,n,e)},o.SVG=o.Renderer.extend({getEvents:function(){var t=o.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=o.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=o.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){o.Renderer.prototype._update.call(this);var t=this._bounds,n=t.getSize(),e=this._container;this._svgSize&&this._svgSize.equals(n)||(this._svgSize=n,e.setAttribute("width",n.x),e.setAttribute("height",n.y)),o.DomUtil.setPosition(e,t.min),e.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=o.SVG.create("path");t.options.className&&o.DomUtil.addClass(n,t.options.className),t.options.interactive&&o.DomUtil.addClass(n,"leaflet-interactive"),this._updateStyle(t)},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){o.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path)},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,e=t.options;n&&(e.stroke?(n.setAttribute("stroke",e.color),n.setAttribute("stroke-opacity",e.opacity),n.setAttribute("stroke-width",e.weight),n.setAttribute("stroke-linecap",e.lineCap),n.setAttribute("stroke-linejoin",e.lineJoin),e.dashArray?n.setAttribute("stroke-dasharray",e.dashArray):n.removeAttribute("stroke-dasharray"),e.dashOffset?n.setAttribute("stroke-dashoffset",e.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),e.fill?(n.setAttribute("fill",e.fillColor||e.color),n.setAttribute("fill-opacity",e.fillOpacity),n.setAttribute("fill-rule",e.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,o.SVG.pointsToPath(t._parts,n))},_updateCircle:function(t){var n=t._point,e=t._radius,i=t._radiusY||e,o="a"+e+","+i+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(n.x-e)+","+n.y+o+2*e+",0 "+o+2*-e+",0 ";this._setPath(t,r)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){o.DomUtil.toFront(t._path)},_bringToBack:function(t){o.DomUtil.toBack(t._path)}}),o.extend(o.SVG,{create:function(t){return n.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,n){var e,i,r,s,a,h,u="";for(e=0,r=t.length;e<r;e++){for(a=t[e],i=0,s=a.length;i<s;i++)h=a[i],u+=(i?"L":"M")+h.x+" "+h.y;u+=n?o.Browser.svg?"z":"x":""}return u||"M0 0"}}),o.Browser.svg=!(!n.createElementNS||!o.SVG.create("svg").createSVGRect),o.svg=function(t){return o.Browser.svg||o.Browser.vml?new o.SVG(t):null},o.Browser.vml=!o.Browser.svg&&function(){try{var t=n.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),o.SVG.include(o.Browser.vml?{_initContainer:function(){this._container=o.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(o.Renderer.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=o.SVG.create("shape");o.DomUtil.addClass(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=o.SVG.create("path"),n.appendChild(t._path),this._updateStyle(t)},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;o.DomUtil.remove(n),t.removeInteractiveTarget(n)},_updateStyle:function(t){var n=t._stroke,e=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(n||(n=t._stroke=o.SVG.create("stroke")),r.appendChild(n),n.weight=i.weight+"px",n.color=i.color,n.opacity=i.opacity,i.dashArray?n.dashStyle=o.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=i.lineCap.replace("butt","flat"),n.joinstyle=i.lineJoin):n&&(r.removeChild(n),t._stroke=null),i.fill?(e||(e=t._fill=o.SVG.create("fill")),r.appendChild(e),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(r.removeChild(e),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),e=Math.round(t._radius),i=Math.round(t._radiusY||e);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+e+","+i+" 0,23592600")},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){o.DomUtil.toFront(t._container)},_bringToBack:function(t){o.DomUtil.toBack(t._container)}}:{}),o.Browser.vml&&(o.SVG.create=function(){try{return n.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return n.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return n.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),o.Canvas=o.Renderer.extend({onAdd:function(){o.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_initContainer:function(){var t=this._container=n.createElement("canvas");o.DomEvent.on(t,"mousemove",o.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},o.Renderer.prototype._update.call(this);var t=this._bounds,n=this._container,e=t.getSize(),i=o.Browser.retina?2:1;o.DomUtil.setPosition(n,t.min),n.width=i*e.x,n.height=i*e.y,n.style.width=e.x+"px",n.style.height=e.y+"px",o.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_initPath:function(t){this._updateDashArray(t),this._layers[o.stamp(t)]=t},_addPath:o.Util.falseFn,_removePath:function(t){t._removed=!0,this._requestRedraw(t)},_updatePath:function(t){this._redrawBounds=t._pxBounds,this._draw(!0),t._project(),t._update(),this._draw(),this._redrawBounds=null},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var n,e=t.options.dashArray.split(","),i=[];for(n=0;n<e.length;n++)i.push(Number(e[n]));t.options._dashArray=i}},_requestRedraw:function(t){if(this._map){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new o.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n])),this._redrawRequest=this._redrawRequest||o.Util.requestAnimFrame(this._redraw,this)}},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_draw:function(t){this._clear=t;var n,e=this._redrawBounds;this._ctx.save(),e&&(this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,e.max.x-e.min.x,e.max.y-e.min.y),this._ctx.clip());for(var i in this._layers)n=this._layers[i],(!e||n._pxBounds&&n._pxBounds.intersects(e))&&n._updatePath(),t&&n._removed&&(delete n._removed,delete this._layers[i]);this._ctx.restore()},_updatePoly:function(t,n){var e,i,o,r,s=t._parts,a=s.length,h=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,h.beginPath(),h.setLineDash&&h.setLineDash(t.options&&t.options._dashArray||[]),e=0;e<a;e++){for(i=0,o=s[e].length;i<o;i++)r=s[e][i],h[i?"lineTo":"moveTo"](r.x,r.y);n&&h.closePath()}this._fillStroke(h,t)}},_updateCircle:function(t){if(!t._empty()){var n=t._point,e=this._ctx,i=t._radius,o=(t._radiusY||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==o&&(e.save(),e.scale(1,o)),e.beginPath(),e.arc(n.x,n.y/o,i,0,2*Math.PI,!1),1!==o&&e.restore(),this._fillStroke(e,t)}},_fillStroke:function(t,n){var e=this._clear,i=n.options;t.globalCompositeOperation=e?"destination-out":"source-over",i.fill&&(t.globalAlpha=e?1:i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.globalAlpha=e?1:i.opacity,n._prevWeight=t.lineWidth=e?n._prevWeight+1:i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){var n,e=this._map.mouseEventToLayerPoint(t),i=[];for(var r in this._layers)n=this._layers[r],n.options.interactive&&n._containsPoint(e)&&!this._map._draggableMoved(n)&&(o.DomEvent._fakeStop(t),i.push(n));i.length&&this._fireEvent(i,t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseOut(t,n),this._handleMouseHover(t,n)}},_handleMouseOut:function(t,n){var e=this._hoveredLayer;!e||"mouseout"!==t.type&&e._containsPoint(n)||(o.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,n){var e,i;for(e in this._drawnLayers)i=this._drawnLayers[e],i.options.interactive&&i._containsPoint(n)&&(o.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i);this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,n,e){this._map._fireDOMEvent(n,e||n.type,t)},_bringToFront:o.Util.falseFn,_bringToBack:o.Util.falseFn}),o.Browser.canvas=function(){return!!n.createElement("canvas").getContext}(),o.canvas=function(t){return o.Browser.canvas?new o.Canvas(t):null},o.Polyline.prototype._containsPoint=function(t,n){var e,i,r,s,a,h,u=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(e=0,s=this._parts.length;e<s;e++)for(h=this._parts[e],i=0,a=h.length,r=a-1;i<a;r=i++)if((n||0!==i)&&o.LineUtil.pointToSegmentDistance(t,h[r],h[i])<=u)return!0;return!1},o.Polygon.prototype._containsPoint=function(t){var n,e,i,r,s,a,h,u,l=!1;if(!this._pxBounds.contains(t))return!1;for(r=0,h=this._parts.length;r<h;r++)for(n=this._parts[r],s=0,u=n.length,a=u-1;s<u;a=s++)e=n[s],i=n[a],e.y>t.y!=i.y>t.y&&t.x<(i.x-e.x)*(t.y-e.y)/(i.y-e.y)+e.x&&(l=!l);return l||o.Polyline.prototype._containsPoint.call(this,t,!0)},o.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,n){o.setOptions(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n,e,i,r=o.Util.isArray(t)?t:t.features;if(r){for(n=0,e=r.length;n<e;n++)i=r[n],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var a=o.GeoJSON.geometryToLayer(t,s);return a?(a.feature=o.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=o.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(n){this._setLayerStyle(n,t)},this)},_setLayerStyle:function(t,n){"function"==typeof n&&(n=n(t.feature)),t.setStyle&&t.setStyle(n)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,n){var e,i,r,s,a="Feature"===t.type?t.geometry:t,h=a?a.coordinates:null,u=[],l=n&&n.pointToLayer,c=n&&n.coordsToLatLng||this.coordsToLatLng;if(!h&&!a)return null;switch(a.type){case"Point":return e=c(h),l?l(t,e):new o.Marker(e);case"MultiPoint":for(r=0,s=h.length;r<s;r++)e=c(h[r]),u.push(l?l(t,e):new o.Marker(e));return new o.FeatureGroup(u);case"LineString":case"MultiLineString":return i=this.coordsToLatLngs(h,"LineString"===a.type?0:1,c),new o.Polyline(i,n);case"Polygon":case"MultiPolygon":return i=this.coordsToLatLngs(h,"Polygon"===a.type?1:2,c),new o.Polygon(i,n);case"GeometryCollection":for(r=0,s=a.geometries.length;r<s;r++){var f=this.geometryToLayer({geometry:a.geometries[r],type:"Feature",properties:t.properties},n);f&&u.push(f)}return new o.FeatureGroup(u);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,n,e){for(var i,o=[],r=0,s=t.length;r<s;r++)i=n?this.coordsToLatLngs(t[r],n-1,e):(e||this.coordsToLatLng)(t[r]),o.push(i);return o},latLngToCoords:function(t){return t.alt!==e?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,n,e){for(var i=[],r=0,s=t.length;r<s;r++)i.push(n?o.GeoJSON.latLngsToCoords(t[r],n-1,e):o.GeoJSON.latLngToCoords(t[r]));return!n&&e&&i.push(i[0]),i},getFeature:function(t,n){return t.feature?o.extend({},t.feature,{geometry:n}):o.GeoJSON.asFeature(n)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var s={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(s),o.Circle.include(s),o.CircleMarker.include(s),o.Polyline.prototype.toGeoJSON=function(){var t=!o.Polyline._flat(this._latlngs),n=o.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return o.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:n})},o.Polygon.prototype.toGeoJSON=function(){var t=!o.Polyline._flat(this._latlngs),n=t&&!o.Polyline._flat(this._latlngs[0]),e=o.GeoJSON.latLngsToCoords(this._latlngs,n?2:t?1:0,!0);return t||(e=[e]),o.GeoJSON.getFeature(this,{type:(n?"Multi":"")+"Polygon",coordinates:e})},o.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var n="GeometryCollection"===t,e=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON();e.push(n?i.geometry:o.GeoJSON.asFeature(i))}}),n?o.GeoJSON.getFeature(this,{geometries:e,type:"GeometryCollection"}):{type:"FeatureCollection",features:e}}}),o.geoJSON=function(t,n){return new o.GeoJSON(t,n)},o.geoJson=o.geoJSON;var a="_leaflet_events";o.DomEvent={on:function(t,n,e,i){if("object"==typeof n)for(var r in n)this._on(t,r,n[r],e);else{n=o.Util.splitWords(n);for(var s=0,a=n.length;s<a;s++)this._on(t,n[s],e,i)}return this},off:function(t,n,e,i){if("object"==typeof n)for(var r in n)this._off(t,r,n[r],e);else{n=o.Util.splitWords(n);for(var s=0,a=n.length;s<a;s++)this._off(t,n[s],e,i)}return this},_on:function(n,e,i,r){var s=e+o.stamp(i)+(r?"_"+o.stamp(r):"");if(n[a]&&n[a][s])return this;var h=function(e){return i.call(r||n,e||t.event)},u=h;return o.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(n,e,h,s):o.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener?this.addDoubleTapListener(n,h,s):"addEventListener"in n?"mousewheel"===e?n.addEventListener("onwheel"in n?"wheel":"mousewheel",h,!1):"mouseenter"===e||"mouseleave"===e?(h=function(e){e=e||t.event,o.DomEvent._isExternalTarget(n,e)&&u(e)},n.addEventListener("mouseenter"===e?"mouseover":"mouseout",h,!1)):("click"===e&&o.Browser.android&&(h=function(t){return o.DomEvent._filterClick(t,u)}),n.addEventListener(e,h,!1)):"attachEvent"in n&&n.attachEvent("on"+e,h),n[a]=n[a]||{},n[a][s]=h,this},_off:function(t,n,e,i){var r=n+o.stamp(e)+(i?"_"+o.stamp(i):""),s=t[a]&&t[a][r];return s?(o.Browser.pointer&&0===n.indexOf("touch")?this.removePointerListener(t,n,r):o.Browser.touch&&"dblclick"===n&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,r):"removeEventListener"in t?"mousewheel"===n?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):t.removeEventListener("mouseenter"===n?"mouseover":"mouseleave"===n?"mouseout":n,s,!1):"detachEvent"in t&&t.detachEvent("on"+n,s),
t[a][r]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,o.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return o.DomEvent.on(t,"mousewheel",o.DomEvent.stopPropagation)},disableClickPropagation:function(t){var n=o.DomEvent.stopPropagation;return o.DomEvent.on(t,o.Draggable.START.join(" "),n),o.DomEvent.on(t,{click:o.DomEvent._fakeStop,dblclick:n})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,n){if(!n)return new o.Point(t.clientX,t.clientY);var e=n.getBoundingClientRect();return new o.Point(t.clientX-e.left-n.clientLeft,t.clientY-e.top-n.clientTop)},_wheelPxFactor:o.Browser.win&&o.Browser.chrome?2:o.Browser.gecko?t.devicePixelRatio:1,getWheelDelta:function(t){return o.Browser.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/o.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var n=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,n},_isExternalTarget:function(t,n){var e=n.relatedTarget;if(!e)return!0;try{for(;e&&e!==t;)e=e.parentNode}catch(t){return!1}return e!==t},_filterClick:function(t,n){var e=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=o.DomEvent._lastClick&&e-o.DomEvent._lastClick;return i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=e,void n(t))}},o.DomEvent.addListener=o.DomEvent.on,o.DomEvent.removeListener=o.DomEvent.off,o.Draggable=o.Evented.extend({options:{clickTolerance:3},statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,n,e){this._element=t,this._dragStartTarget=n||t,this._preventOutline=e},enable:function(){this._enabled||(o.DomEvent.on(this._dragStartTarget,o.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(o.DomEvent.off(this._dragStartTarget,o.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!o.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(o.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&this._enabled&&(o.Draggable._dragging=!0,this._preventOutline&&o.DomUtil.preventOutline(this._element),o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection(),!this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new o.Point(e.clientX,e.clientY),o.DomEvent.on(n,o.Draggable.MOVE[t.type],this._onMove,this).on(n,o.Draggable.END[t.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled){if(e.touches&&e.touches.length>1)return void(this._moved=!0);var i=e.touches&&1===e.touches.length?e.touches[0]:e,r=new o.Point(i.clientX,i.clientY),s=r.subtract(this._startPoint);(s.x||s.y)&&(Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(o.DomEvent.preventDefault(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(s),o.DomUtil.addClass(n.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,t.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),o.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._lastEvent=e,this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){if(!t._simulated&&this._enabled){o.DomUtil.removeClass(n.body,"leaflet-dragging"),this._lastTarget&&(o.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var e in o.Draggable.MOVE)o.DomEvent.off(n,o.Draggable.MOVE[e],this._onMove,this).off(n,o.Draggable.END[e],this._onUp,this);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&this._moving&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,o.Draggable._dragging=!1}}}),o.Handler=o.Class.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}o.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){o.DomUtil.removeClass(this._map._container,"leaflet-grab"),o.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=o.latLngBounds(this._map.options.maxBounds);this._offsetLimit=o.bounds(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,e=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(e),this._times.push(n),n-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),e=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-n+e)%t+n-e,r=(i+n+e)%t-n-e,s=Math.abs(o+e)<Math.abs(r+e)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var n=this._map,e=n.options,i=!e.inertia||this._times.length<2;if(n.fire("dragend",t),i)n.fire("moveend");else{var r=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,a=e.easeLinearity,h=r.multiplyBy(a/s),u=h.distanceTo([0,0]),l=Math.min(e.inertiaMaxSpeed,u),c=h.multiplyBy(l/u),f=l/(e.inertiaDeceleration*a),_=c.multiplyBy(-f/2).round();_.x||_.y?(_=n._limitOffset(_,n.options.maxBounds),o.Util.requestAnimFrame(function(){n.panBy(_,{duration:f,easeLinearity:a,noMoveStart:!0,animate:!0})})):n.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,e=n.getZoom(),i=n.options.zoomDelta,o=t.originalEvent.shiftKey?e-i:e+i;"center"===n.options.doubleClickZoom?n.setZoom(o):n.setZoomAround(t.containerPoint,o)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=o.DomEvent.getWheelDelta(t),e=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(e-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),i),o.DomEvent.stop(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),e=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=e?Math.ceil(o/e)*e:o,s=t._limitZoom(n+(this._delta>0?r:-r))-n;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(n+s):t.setZoomAround(this._lastMousePos,n+s))}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msPointer?"MSPointerDown":o.Browser.pointer?"pointerdown":"touchstart",_touchend:o.Browser.msPointer?"MSPointerUp":o.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,n,e){function i(t){var n;if(n=o.Browser.pointer?o.DomEvent._pointersCount:t.touches.length,!(n>1)){var e=Date.now(),i=e-(s||e);a=t.touches?t.touches[0]:t,h=i>0&&i<=u,s=e}}function r(){if(h&&!a.cancelBubble){if(o.Browser.pointer){var t,e,i={};for(e in a)t=a[e],i[e]=t&&t.bind?t.bind(a):t;a=i}a.type="dblclick",n(a),s=null}}var s,a,h=!1,u=250,l="_leaflet_",c=this._touchstart,f=this._touchend;return t[l+c+e]=i,t[l+f+e]=r,t[l+"dblclick"+e]=n,t.addEventListener(c,i,!1),t.addEventListener(f,r,!1),o.Browser.edge||t.addEventListener("dblclick",n,!1),this},removeDoubleTapListener:function(t,n){var e="_leaflet_",i=t[e+this._touchstart+n],r=t[e+this._touchend+n],s=t[e+"dblclick"+n];return t.removeEventListener(this._touchstart,i,!1),t.removeEventListener(this._touchend,r,!1),o.Browser.edge||t.removeEventListener("dblclick",s,!1),this}}),o.extend(o.DomEvent,{POINTER_DOWN:o.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:o.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:o.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:o.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,n,e,i){return"touchstart"===n?this._addPointerStart(t,e,i):"touchmove"===n?this._addPointerMove(t,e,i):"touchend"===n&&this._addPointerEnd(t,e,i),this},removePointerListener:function(t,n,e){var i=t["_leaflet_"+n+e];return"touchstart"===n?t.removeEventListener(this.POINTER_DOWN,i,!1):"touchmove"===n?t.removeEventListener(this.POINTER_MOVE,i,!1):"touchend"===n&&(t.removeEventListener(this.POINTER_UP,i,!1),t.removeEventListener(this.POINTER_CANCEL,i,!1)),this},_addPointerStart:function(t,e,i){var r=o.bind(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;o.DomEvent.preventDefault(t)}this._handlePointer(t,e)},this);if(t["_leaflet_touchstart"+i]=r,t.addEventListener(this.POINTER_DOWN,r,!1),!this._pointerDocListener){var s=o.bind(this._globalPointerUp,this);n.documentElement.addEventListener(this.POINTER_DOWN,o.bind(this._globalPointerDown,this),!0),n.documentElement.addEventListener(this.POINTER_MOVE,o.bind(this._globalPointerMove,this),!0),n.documentElement.addEventListener(this.POINTER_UP,s,!0),n.documentElement.addEventListener(this.POINTER_CANCEL,s,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,n){t.touches=[];for(var e in this._pointers)t.touches.push(this._pointers[e]);t.changedTouches=[t],n(t)},_addPointerMove:function(t,n,e){var i=o.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,n)},this);t["_leaflet_touchmove"+e]=i,t.addEventListener(this.POINTER_MOVE,i,!1)},_addPointerEnd:function(t,n,e){var i=o.bind(function(t){this._handlePointer(t,n)},this);t["_leaflet_touchend"+e]=i,t.addEventListener(this.POINTER_UP,i,!1),t.addEventListener(this.POINTER_CANCEL,i,!1)}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23,bounceAtZoomLimits:!0}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(r)._divideBy(2))),this._startDist=i.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),o.DomEvent.on(n,"touchmove",this._onTouchMove,this).on(n,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var n=this._map,e=n.mouseEventToContainerPoint(t.touches[0]),i=n.mouseEventToContainerPoint(t.touches[1]),r=e.distanceTo(i)/this._startDist;if(this._zoom=n.getScaleZoom(r,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&r<1||this._zoom>n.getMaxZoom()&&r>1)&&(this._zoom=n._limitZoom(this._zoom)),"center"===n.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=e._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(n._moveStart(!0),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest);var a=o.bind(n._move,n,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=o.Util.requestAnimFrame(a,this,!0),o.DomEvent.preventDefault(t)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(n,"touchmove",this._onTouchMove).off(n,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new o.Point(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&o.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),o.DomEvent.on(n,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(n,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&o.DomUtil.removeClass(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var n=t.touches[0];this._newPos=new o.Point(n.clientX,n.clientY),this._simulateEvent("mousemove",n)},_simulateEvent:function(e,i){var o=n.createEvent("MouseEvents");o._simulated=!0,i.target._simulatedClick=!0,o.initMouseEvent(e,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(o)}}),o.Browser.touch&&!o.Browser.pointer&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){return!(!t.shiftKey||1!==t.which&&1!==t.button)&&(this._resetState(),o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void o.DomEvent.on(n,{contextmenu:o.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=o.DomUtil.create("div","leaflet-zoom-box",this._container),o.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new o.Bounds(this._point,this._startPoint),e=n.getSize();o.DomUtil.setPosition(this._box,n.min),this._box.style.width=e.x+"px",this._box.style.height=e.y+"px"},_finish:function(){this._moved&&(o.DomUtil.remove(this._box),o.DomUtil.removeClass(this._container,"leaflet-crosshair")),o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(n,{contextmenu:o.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(o.bind(this._resetState,this),0);var n=new o.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),o.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),o.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=n.body,i=n.documentElement,o=e.scrollTop||i.scrollTop,r=e.scrollLeft||i.scrollLeft;this._map._container.focus(),t.scrollTo(r,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n,e,i=this._panKeys={},o=this.keyCodes;for(n=0,e=o.left.length;n<e;n++)i[o.left[n]]=[-1*t,0];for(n=0,e=o.right.length;n<e;n++)i[o.right[n]]=[t,0];for(n=0,e=o.down.length;n<e;n++)i[o.down[n]]=[0,t];for(n=0,e=o.up.length;n<e;n++)i[o.up[n]]=[0,-1*t]},_setZoomDelta:function(t){var n,e,i=this._zoomKeys={},o=this.keyCodes;for(n=0,e=o.zoomIn.length;n<e;n++)i[o.zoomIn[n]]=t;for(n=0,e=o.zoomOut.length;n<e;n++)i[o.zoomOut[n]]=-t},_addHooks:function(){o.DomEvent.on(n,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(n,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n,e=t.keyCode,i=this._map;if(e in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;n=this._panKeys[e],t.shiftKey&&(n=o.point(n).multiplyBy(3)),i.panBy(n),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else{if(27!==e)return;i.closePopup()}o.DomEvent.stop(t)}}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),o.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&o.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var n=this._marker,e=n._shadow,i=o.DomUtil.getPosition(n._icon),r=n._map.layerPointToLatLng(i);e&&o.DomUtil.setPosition(e,i),n._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),e=this.getPosition(),i=t._controlCorners[e];return o.DomUtil.addClass(n,"leaflet-control"),e.indexOf("bottom")!==-1?i.insertBefore(n,i.firstChild):i.appendChild(n),this},remove:function(){return this._map?(o.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,r){var s=e+t+" "+e+r;n[t+r]=o.DomUtil.create("div",s,i)}var n=this._controlCorners={},e="leaflet-",i=this._controlContainer=o.DomUtil.create("div",e+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){o.DomUtil.remove(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",e=o.DomUtil.create("div",n+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,n+"-in",e,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,n+"-out",e,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),e},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,e,i,r){var s=o.DomUtil.create("a",e,i);return s.innerHTML=t,s.href="#",s.title=n,o.DomEvent.on(s,"mousedown dblclick",o.DomEvent.stopPropagation).on(s,"click",o.DomEvent.stop).on(s,"click",r,this).on(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,n),o.DomUtil.removeClass(this._zoomOutButton,n),(this._disabled||t._zoom===t.getMinZoom())&&o.DomUtil.addClass(this._zoomOutButton,n),(this._disabled||t._zoom===t.getMaxZoom())&&o.DomUtil.addClass(this._zoomInButton,n)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent&&o.DomEvent.disableClickPropagation(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var e=[];this.options.prefix&&e.push(this.options.prefix),t.length&&e.push(t.join(", ")),this._container.innerHTML=e.join(" | ")}}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(new o.Control.Attribution).addTo(this)}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",e=o.DomUtil.create("div",n),i=this.options;return this._addScales(i,n+"-line",e),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,e){t.metric&&(this._mScale=o.DomUtil.create("div",n,e)),t.imperial&&(this._iScale=o.DomUtil.create("div",n,e))},_update:function(){var t=this._map,n=t.getSize().y/2,e=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(e)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),e=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,e,n/t)},_updateImperial:function(t){var n,e,i,o=3.2808399*t;o>5280?(n=o/5280,e=this._getRoundNum(n),this._updateScale(this._iScale,e+" mi",e/n)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,n,e){t.style.width=Math.round(this.options.maxWidth*e)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),e=t/n;return e=e>=10?10:e>=5?5:e>=3?3:e>=2?2:1,n*e}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(t,n,e){o.setOptions(this,e),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in n)this._addLayer(n[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(o.stamp(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(o.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):o.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return o.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=o.DomUtil.create("div",t);n.setAttribute("aria-haspopup",!0),o.DomEvent.disableClickPropagation(n),o.Browser.touch||o.DomEvent.disableScrollPropagation(n);var e=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(n,{mouseenter:this.expand,mouseleave:this.collapse},this);var i=this._layersLink=o.DomUtil.create("a",t+"-toggle",n);i.href="#",i.title="Layers",o.Browser.touch?o.DomEvent.on(i,"click",o.DomEvent.stop).on(i,"click",this.expand,this):o.DomEvent.on(i,"focus",this.expand,this),o.DomEvent.on(e,"click",function(){setTimeout(o.bind(this._onInputClick,this),0)},this),this._map.on("click",this.collapse,this)}else this.expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",e),this._separator=o.DomUtil.create("div",t+"-separator",e),this._overlaysList=o.DomUtil.create("div",t+"-overlays",e),n.appendChild(e)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&o.stamp(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,e){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:e}),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){
if(!this._container)return this;o.DomUtil.empty(this._baseLayersList),o.DomUtil.empty(this._overlaysList);var t,n,e,i,r=0;for(e=0;e<this._layers.length;e++)i=this._layers[e],this._addItem(i),n=n||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(o.stamp(t.target)),e=n.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;e&&this._map.fire(e,n)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=n.createElement("div");return o.innerHTML=i,o.firstChild},_addItem:function(t){var e,i=n.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=n.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),e.layerId=o.stamp(t.layer),o.DomEvent.on(e,"click",this._onInputClick,this);var s=n.createElement("span");s.innerHTML=" "+t.name;var a=n.createElement("div");i.appendChild(a),a.appendChild(e),a.appendChild(s);var h=t.overlay?this._overlaysList:this._baseLayersList;return h.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,n,e,i=this._form.getElementsByTagName("input"),o=[],r=[];this._handlingClick=!0;for(var s=i.length-1;s>=0;s--)t=i[s],n=this._getLayer(t.layerId).layer,e=this._map.hasLayer(n),t.checked&&!e?o.push(n):!t.checked&&e&&r.push(n);for(s=0;s<r.length;s++)this._map.removeLayer(r[s]);for(s=0;s<o.length;s++)this._map.addLayer(o[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,n,i=this._form.getElementsByTagName("input"),o=this._map.getZoom(),r=i.length-1;r>=0;r--)t=i[r],n=this._getLayer(t.layerId).layer,t.disabled=n.options.minZoom!==e&&o<n.options.minZoom||n.options.maxZoom!==e&&o>n.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),o.control.layers=function(t,n,e){return new o.Control.Layers(t,n,e)},o.PosAnimation=o.Evented.extend({run:function(t,n,e,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=e||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,e=1e3*this._duration;n<e?this._runFrame(this._easeOut(n/e),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var e=this._startPos.add(this._offset.multiplyBy(t));n&&e._round(),o.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.include({setView:function(t,n,i){if(n=n===e?this._zoom:this._limitZoom(n),t=this._limitCenter(o.latLng(t),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==e&&(i.zoom=o.extend({animate:i.animate},i.zoom),i.pan=o.extend({animate:i.animate,duration:i.duration},i.pan));var r=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,i.zoom):this._tryAnimatedPan(t,i.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,n),this},panBy:function(t,n){if(t=o.point(t).round(),n=n||{},!t.x&&!t.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var e=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,e,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var e=this._getCenterOffset(t)._floor();return!((n&&n.animate)!==!0&&!this.getSize().contains(e))&&(this.panBy(e,n),!0)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var h=o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.mobileOpera;h&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),o.DomEvent.on(this._proxy,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),o.Map.include(h?{_createAnimProxy:function(){var t=this._proxy=o.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(n){var e=o.DomUtil.TRANSFORM,i=t.style[e];o.DomUtil.setTransform(t,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),i===t.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var n=this.getCenter(),e=this.getZoom();o.DomUtil.setTransform(t,this.project(n,e),this.getZoomScale(e,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,e){if(this._animatingZoom)return!0;if(e=e||{},!this._zoomAnimated||e.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(n),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(e.animate!==!0&&!this.getSize().contains(r))&&(o.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,n,!0)},this),!0)},_animateZoom:function(t,n,e,i){e&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:i}),setTimeout(o.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),o.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}:{}),o.Map.include({flyTo:function(t,n,i){function r(t){var n=t?-1:1,e=t?v:g,i=v*v-g*g+n*w*w*y*y,o=2*e*w*y,r=i/o,s=Math.sqrt(r*r+1)-r,a=s<1e-9?-18:Math.log(s);return a}function s(t){return(Math.exp(t)-Math.exp(-t))/2}function a(t){return(Math.exp(t)+Math.exp(-t))/2}function h(t){return s(t)/a(t)}function u(t){return g*(a(b)/a(b+x*t))}function l(t){return g*(a(b)*h(b+x*t)-s(b))/w}function c(t){return 1-Math.pow(1-t,1.5)}function f(){var e=(Date.now()-P)/L,i=c(e)*M;e<=1?(this._flyToFrame=o.Util.requestAnimFrame(f,this),this._move(this.unproject(_.add(p.subtract(_).multiplyBy(l(i)/y)),m),this.getScaleZoom(g/u(i),m),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}if(i=i||{},i.animate===!1||!o.Browser.any3d)return this.setView(t,n,i);this._stop();var _=this.project(this.getCenter()),p=this.project(t),d=this.getSize(),m=this._zoom;t=o.latLng(t),n=n===e?m:n;var g=Math.max(d.x,d.y),v=g*this.getZoomScale(m,n),y=p.distanceTo(_)||1,x=1.42,w=x*x,b=r(0),P=Date.now(),M=(r(1)-b)/x,L=i.duration?1e3*i.duration:1e3*M*.8;return this._moveStart(!0),f.call(this),this},flyToBounds:function(t,n){var e=this._getBoundsCenterZoom(t,n);return this.flyTo(e.center,e.zoom,n)}}),o.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(t){if(t=this._locateOptions=o.extend({},this._defaultLocateOptions,t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=o.bind(this._handleGeolocationResponse,this),e=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,e,t):navigator.geolocation.getCurrentPosition(n,e,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var n=t.code,e=t.message||(1===n?"permission denied":2===n?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+e+"."})},_handleGeolocationResponse:function(t){var n=t.coords.latitude,e=t.coords.longitude,i=new o.LatLng(n,e),r=i.toBounds(t.coords.accuracy),s=this._locateOptions;if(s.setView){var a=this.getBoundsZoom(r);this.setView(i,s.maxZoom?Math.min(a,s.maxZoom):a)}var h={latlng:i,bounds:r,timestamp:t.timestamp};for(var u in t.coords)"number"==typeof t.coords[u]&&(h[u]=t.coords[u]);this.fire("locationfound",h)}})}(window,document);var lf=Object.freeze({});t.json=Ja,t.isoParse=ou,t.zoom=Nc,t.d3mean=ns,t.L=lf,t.createTimeSeriesAxes=Ur,t.addScalarTimeSeries=zr,t.addVectorTimeSeries=Ar,t.tightenScaY=Nr,t.tightenVecY=Br,t.rescaleAxes=Or,t.zoomed=Ir,t.filterNulls=Zr,t.normalizeVec=Rr,t.transpose=jr}(this.itm5live=this.itm5live||{});